(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{240:function(e,t,a){var n=a(303);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(11).default)("54fd81fb",n,!0,{})},302:function(e,t,a){"use strict";var n=a(240);a.n(n).a},303:function(e,t,a){(e.exports=a(10)(!1)).push([e.i,".alert[data-v-2d684f6b]{width:100%}",""])},385:function(e,t,a){"use strict";a.r(t);a(23);var n=a(1),r=a.n(n),c={components:{RaceEditor:function(){return a.e(2).then(a.bind(null,389))},RaceTable:function(){return a.e(3).then(a.bind(null,386))}},head:function(){return{title:"RaceBase - Your Content"}},middleware:"auth",asyncData:function(){var e=r()(regeneratorRuntime.mark(function e(t){var a,n,r,c,i,s,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.store,n=t.$axios,r=t.params,c=r.page||"1",i=a.state.auth.user,e.next=5,n.$get("user/"+i._id+"/races");case 5:return s=e.sent,o=s.docs,u=s.page==s.pages,o=o?o.reverse():{},e.abrupt("return",{myRaces:o,currentPage:c,lastPage:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),data:function(){return{editingRace:!1,addingRace:!1,input:{name:"",location:"",link:"",date:"",csv:""},currentPage:0,currentRace:{},myRaces:{}}},methods:{loadRaces:function(){var e=r()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$store.state.auth.user._id,e.next=3,this.$axios.$get("user/"+t+"/races").docs;case 3:a=e.sent,this.myRaces=a?a.reverse():{};case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),closeWindow:function(){this.addingRace=!1,this.editingRace=!1},addRace:function(){this.addingRace=!0,this.editingRace=!1,this.currentRace={}},editRace:function(e){this.currentRace=e,this.editingRace=!0,this.addingRace=!1},deleteRace:function(e){var t=this;this.$axios.$delete("race/"+e).then(function(e){t.loadRaces()})}}},i=(a(302),a(17)),s=Object(i.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"w-90 mx-auto"},[a("h1",{staticClass:"mt-4"},[e._v(" Your Content ")]),e._v(" "),a("RaceEditor",{attrs:{addingRace:e.addingRace,editingRace:e.editingRace,race:e.currentRace},on:{closeWindow:e.closeWindow,load:e.loadRaces}}),e._v(" "),e.addingRace?e._e():a("a",{staticClass:"btn btn-default add-race mt-3",on:{click:function(t){e.addRace()}}},[e._v("\n      Add Race Â "),a("fa",{attrs:{icon:"pencil-alt"}})],1),e._v(" "),a("div",{staticClass:"no-races user-no-races mt-3"},[0!=Object.keys(e.myRaces).length||e.addingRace?e._e():a("div",{staticClass:"alert alert-info"},[e._v(' \n          You haven\'t added any races. Add one by clicking "Add Race" above. \n        ')])])],1),e._v(" "),a("RaceTable",{attrs:{races:e.myRaces,lastPage:e.lastPage,currentPage:e.currentPage}})],1)},[],!1,null,"2d684f6b",null);s.options.__file="_page.vue";t.default=s.exports}}]);