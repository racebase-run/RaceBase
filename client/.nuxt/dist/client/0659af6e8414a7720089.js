(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{241:function(e,t,a){var n=a(306);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(11).default)("16e56674",n,!0,{})},305:function(e,t,a){"use strict";var n=a(241);a.n(n).a},306:function(e,t,a){(e.exports=a(10)(!1)).push([e.i,".alert[data-v-215c11ec]{width:100%}",""])},388:function(e,t,a){"use strict";a.r(t);a(23);var n=a(1),s=a.n(n),c={components:{RaceEditor:function(){return a.e(2).then(a.bind(null,392))},RaceTable:function(){return a.e(3).then(a.bind(null,389))}},head:function(){return{title:"RaceBase - Your Content"}},middleware:"auth",asyncData:function(){var e=s()(regeneratorRuntime.mark(function e(t){var a,n,s,c,r,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.store,n=t.$axios,s=t.params,c=s.page||"1",r=a.state.auth.user,e.next=5,n.$get("user/"+r._id+"/races");case 5:return i=e.sent,o=i.docs,u=i.page==i.pages,o=o?o.reverse():{},e.abrupt("return",{myRaces:o,currentPage:c,lastPage:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),data:function(){return{editingRace:!1,addingRace:!1,input:{name:"",location:"",link:"",date:"",csv:""},searchInput:"",currentPage:0,currentRace:{},myRaces:{}}},methods:{loadRaces:function(){var e=s()(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$store.state.auth.user._id,e.next=3,this.$axios.$get("user/"+t+"/races");case 3:a=e.sent,this.myRaces&&(this.myRaces=a.docs?a.docs.reverse():{});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),closeWindow:function(){this.addingRace=!1,this.editingRace=!1},addRace:function(){this.addingRace=!0,this.editingRace=!1,this.currentRace={}},editRace:function(e){this.currentRace=e,this.editingRace=!0,this.addingRace=!1},deleteRace:function(e){var t=this;this.$axios.$delete("race/"+e).then(function(e){t.loadRaces()})},search:function(e){var t=this;this.searchInput?this.$axios.$get("search/user/races/"+this.searchInput).then(function(a){!e||a.length>0?(t.myRaces=a,t.searching=!0):t.searching=!1}):this.loadRaces()}}},r=(a(305),a(17)),i=Object(r.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"w-90 mx-auto"},[a("h1",{staticClass:"mt-4"},[e._v(" Your Content ")]),e._v(" "),a("RaceEditor",{attrs:{addingRace:e.addingRace,editingRace:e.editingRace,race:e.currentRace},on:{closeWindow:e.closeWindow,load:e.loadRaces}}),e._v(" "),e.addingRace?e._e():a("a",{staticClass:"btn btn-default add-race mt-3",on:{click:function(t){e.addRace()}}},[e._v("\n      Add Race Â "),a("fa",{attrs:{icon:"pencil-alt"}})],1),e._v(" "),a("form",{staticClass:"search-form mb-3 mt-3 mx-auto",on:{submit:function(t){t.preventDefault(),e.search(!1)}}},[a("div",{staticClass:"input-group search home-search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchInput},on:{keyup:function(t){e.search(!0)},input:function(t){t.target.composing||(e.searchInput=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-append",attrs:{id:"basic-addon2"}},[a("span",{staticClass:"input-group-text"},[a("fa",{attrs:{icon:"search"},on:{click:function(t){e.search(!1)}}})],1)])])]),e._v(" "),a("div",{staticClass:"no-races user-no-races mt-3"},[0!=Object.keys(e.myRaces).length||e.addingRace?e._e():a("div",{staticClass:"alert alert-info"},[e._v(' \n        You haven\'t added any races. Add one by clicking "Add Race" above. \n      ')])])],1),e._v(" "),a("RaceTable",{attrs:{races:e.myRaces,lastPage:e.lastPage,currentPage:e.currentPage}})],1)},[],!1,null,"215c11ec",null);i.options.__file="_page.vue";t.default=i.exports}}]);