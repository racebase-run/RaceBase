(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{268:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},394:function(t,e,a){"use strict";a.r(e);a(77),a(78),a(23);var s=a(1),n=a.n(s),r=a(267),i=a.n(r),l=function(t,e){return t.filter(function(t,a,s){return s.map(function(t){return t[e]}).indexOf(t[e])===a})},o={components:{GenderPicker:function(){return a.e(4).then(a.bind(null,388))}},head:function(){return{title:this.teamName+" - RaceBase",meta:[{hid:"OpenGraph Title",property:"og:title",content:this.teamName+" - Team Results"},{hid:"OpenGraph Image",property:"og:image",content:"https://racebase.io/images/opengraph/team.png"},{hid:"Description",name:"description",content:"View "+this.teamName+"'s results on RaceBase, the Internet's first community sourced results database"},{hid:"OpenGraph Description",property:"og:description",content:"View "+this.teamName+"'s race results on RaceBase, the Internet's first community sourced results database"}]}},data:function(){return{showAthletes:!1}},asyncData:function(){var t=n()(regeneratorRuntime.mark(function t(e){var a,s,n,r,o,u,c,d,h,p,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$axios,s=e.params,n=e.redirect,r=s.id,o=s.gender||"mens",t.next=5,a.$get("result/list/team/"+r+"/"+o+"/years");case 5:return(u=t.sent)&&u.length||n("/team/notfound"),c=s.year||u[0],u.includes(c)||(c=u[0]),t.next=11,a.$get("result/list/team/"+r+"/"+c+"/"+o);case 11:return(d=t.sent)||n("/notfound"),h=i.a.groupBy(i.a.sortBy(d,"place"),"event"),p=l(d,"athlete"),_=d[0].team,t.abrupt("return",{teamId:r,years:u,curYear:c,results:h,athletes:p,teamName:_,curGender:o});case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{updateResults:function(){var t=n()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("result/list/team/"+this.teamId+"/"+this.curYear+"/"+this.curGender);case 2:(e=t.sent)&&(this.results=e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},watch:{$route:function(){this.curGender=this.$route.params.gender||"mens",this.curYear=this.$route.params.year||this.years[0],this.updateResults()}}},u=a(17),c=Object(u.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-auto w-90 w-md-100 mx-md-0 pl-md-5 mt-4"},[0!=t.results.length?a("h1",{},[t._v(" \n    "+t._s(t.teamName)+" \n    "),a("small",[t._v("Team Results")])]):a("h1",[t._v("There is no team with that ID!")]),t._v(" "),a("h5",{staticClass:"mb-2"},[t._v(" @"+t._s(t.teamId)+" ")]),t._v(" "),0!=t.results.length?a("div",{staticClass:"btn-group-wrap team-dropdowns"},[a("div",{staticClass:"btn btn-default",on:{click:function(e){t.showAthletes=!t.showAthletes}}},[t._v("\n      Athletes\n      "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.showAthletes,expression:"!showAthletes"}],key:"down-arrow"},[a("fa",{attrs:{icon:"chevron-circle-down"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showAthletes,expression:"showAthletes"}],key:"up-arrow"},[a("fa",{attrs:{icon:"chevron-circle-up"}})],1)]),t._v(" "),a("div",{staticClass:"btn-group dropdown-btn-group"},[a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        Year\n      ")]),t._v(" "),a("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.years,function(e){return a("li",[a("nuxt-link",{staticClass:"dropdown-item",attrs:{to:{params:{year:e,gender:t.curGender||"mens"}}}},[t._v("\n            "+t._s(e)+"\n          ")])],1)}),0)]),t._v(" "),0!=t.results.length?a("gender-picker",{staticClass:"ml-1",attrs:{gender:t.curGender}}):t._e()],1):t._e(),t._v(" "),t.showAthletes?a("div",{staticClass:"card p-3"},[a("h4",[t._v("Athletes")]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("ul",{staticClass:"list-group"},[a("li",[a("b",[t._v(t._s("mens"==t.curGender?"Mens":"Womens"))])]),t._v(" "),t._l(t.athletes,function(e){return a("li",[e.athlete_id?a("nuxt-link",{attrs:{to:"/athlete/"+e.athlete_id}},[t._v(t._s(e.athlete))]):t._e(),t._v(" "),e.athlete_id?t._e():a("span",[t._v(t._s(e.athlete))])],1)})],2)])])])]):t._e(),t._v(" "),0==t.results.length?a("div",{staticClass:"panel panel-default panel-no-results"},[a("div",{staticClass:"panel-body"},[t._v("\n      No results!\n    ")])]):t._e(),t._v(" "),t._l(t.results,function(e){return a("div",{staticClass:"results-container mb-4 mt-3"},[a("h5",[a("a",{attrs:{href:"/races/"+e[0].race_id}},[t._v("\n        "+t._s(e[0].race)+"\n      ")])]),t._v(" "),a("div",[t._v(t._s(e[0].event))]),t._v(" "),e[0].date?a("div",{staticClass:"mb-3"},[t._v(" "+t._s(e[0].date))]):t._e(),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table database table-striped mb-0"},[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Time")]),t._v(" "),a("th",{staticClass:"author-data-header"},[a("fa",{attrs:{icon:"user"}})],1)])]),t._v(" "),a("tbody",t._l(e,function(e){return a("tr",[a("td",{staticClass:"data place-data"},[t._v("\n              "+t._s(e.place)+"\n            ")]),t._v(" "),a("td",{staticClass:"data name-data"},[e.athlete_id?a("a",{attrs:{href:"/athlete/"+e.athlete_id}},[t._v("\n                "+t._s(e.athlete)+"\n              ")]):t._e(),t._v(" "),e.athlete_id?t._e():a("span",[t._v("\n                "+t._s(e.athlete)+"\n              ")])]),t._v(" "),a("td",{staticClass:"data time-data"},[t._v("\n              "+t._s(e.time)+"\n              Â \n              "),e.verified?a("fa",{staticClass:"verified-data",attrs:{icon:"check"}}):t._e()],1),t._v(" "),a("td",{staticClass:"data author-data"},[t._v("\n              "+t._s(e.user)+"\n            ")])])}),0)])])])})],2)},[],!1,null,null,null);c.options.__file="_year.vue";e.default=c.exports}}]);