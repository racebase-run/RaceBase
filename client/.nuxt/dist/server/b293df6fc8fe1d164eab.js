exports.ids=[8],exports.modules={117:function(e,t,r){"use strict";r.r(t);var d=r(75),c=r.n(d);for(var o in d)"default"!==o&&function(e){r.d(t,e,function(){return d[e]})}(o);t.default=c.a},118:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,".profile-header h1[data-v-3f33c06d]{font-size:23px;font-weight:500}.profile-header h2[data-v-3f33c06d]{font-size:16px;font-weight:400}.profile-header .btn.follow[data-v-3f33c06d]{vertical-align:top;font-size:11px;font-weight:500;text-transform:uppercase;height:25px;padding:5px 7px}.profile-header .strava[data-v-3f33c06d]{color:#f67e2c}.profile-info .shoe[data-v-3f33c06d]{width:25px}.profile-info .location .icon[data-v-3f33c06d]{color:#e72970}h2.year[data-v-3f33c06d]{font-size:23px}h3.event-header[data-v-3f33c06d]{text-align:left;text-transform:uppercase;font-weight:500;font-size:18px}.results-table td[data-v-3f33c06d]{vertical-align:middle}.results-table .place[data-v-3f33c06d]{text-align:center;font-size:11px}.results-table .place .num[data-v-3f33c06d]{font-size:18px;font-weight:500}.results-table .title[data-v-3f33c06d]{color:#3976d0;font-size:17px;font-weight:500}.results-table .metadata[data-v-3f33c06d]{font-size:14px}.results-table .distance[data-v-3f33c06d]{font-weight:500}.results-table .team[data-v-3f33c06d],.results-table .team a[data-v-3f33c06d]{color:#802dc4}.results-table .time[data-v-3f33c06d]{font-family:DS Digital,Helvetica,sans-serif;font-size:27px;color:#468df5;text-align:right;padding-right:15px}.results-table .time .star[data-v-3f33c06d]{color:#f67e2c}.brand[data-v-3f33c06d]{width:70px}.brand[data-v-3f33c06d],.user-image[data-v-3f33c06d]{display:block;margin:0 auto}.user-image[data-v-3f33c06d]{width:90%;border-radius:5px}.personal-records[data-v-3f33c06d]{margin:0 auto}.personal-records thead[data-v-3f33c06d]{width:100%;text-align:center;font-weight:500}.personal-records thead th[data-v-3f33c06d]{text-transform:uppercase;border:none;font-size:16px;color:grey;padding-bottom:0}.personal-records td[data-v-3f33c06d]{vertical-align:middle;padding:0 15px}.personal-records .distance[data-v-3f33c06d]{text-transform:uppercase;font-weight:500;font-size:16px}.personal-records .time[data-v-3f33c06d]{font-family:DS Digital;color:#3976d0;font-size:22px;text-align:right}.personal-records .more[data-v-3f33c06d]{text-align:right;font-style:italic;font-size:12px;text-transform:uppercase}.personal-records .more div[data-v-3f33c06d]{margin-top:15px}.personal-records .more a[data-v-3f33c06d]{text-decoration:underline}",""])},158:function(e,t,r){"use strict";r.r(t);var d=r(56),c=r.n(d),o=r(58),n=r.n(o);let l=async function(e){try{if((e=n()(e.toLowerCase())||0).match(/(\d\s?k|\d\s?km|(meter)(s)?|00\s?m)/g)){var t=await f(e);return t>3e3&&Number.isInteger(t/1e3)?t/1e3+" km":t+"m"}return e.match(/(mi)/g)?await v(e)+" mi":"Unknown"}catch(e){return console.log(e),"Unknown"}},f=async function(e){try{return parseInt(e.toLowerCase().replace(",","").replace(/\s?(k)(m)?(ilometers)?/g,"000m").replace(/\s?(meter)[s]?/g,"m").replace(" ","").match(/\d+(m)/g)[0].replace("m",""))||0}catch(e){return console.log(e),0}},v=async function(e){try{return parseFloat(e.toLowerCase().replace(",","").replace(" ","").replace(/(mi)(le)?(s)?/g,"mi").match(/\d+(.)?\d*(mi)/g)[0].replace("mi",""))||0}catch(e){return console.log(e),0}};var m={head(){return{title:this.name+" - RaceBase",meta:[{hid:"OpenGraph Title",property:"og:title",content:this.athlete.name},{hid:"OpenGraph URL",property:"og:url",content:"https://racebase.io"+this.$route.fullPath},{hid:"OpenGraph Image",property:"og:image",content:this.athlete.profilePicUrl},{hid:"Description",name:"description",content:"View "+this.name+"'s race results on RaceBase, the Internet's first community sourced results database"},{hid:"OpenGraph Description",property:"og:description",content:"View "+this.name+"'s race results on RaceBase, the Internet's first community sourced results database"}]}},async asyncData({store:e,params:t,$axios:r,redirect:d}){let o=e.state.auth.user,n=await r.$get("user/athlete/"+t.id),f=await r.$get("result/list/athlete/"+t.id);(!f||f.length<1)&&d("/notfound");let v=n?n.name:f[0].athlete;t.id;for(var m in f)try{var h=f[m];h.distance=await l(h.event);let e=new Date(h.date);h.year=e.getFullYear()}catch(e){console.log(e)}let _=c.a.groupBy(f,"year"),x=c.a.groupBy(f,"distance"),N={},y=[];for(var w in x)N[w]=c.a.sortBy(x[w],"time")[0],y.push(N[w]);f=c.a.sortBy(Object.values(_),"year").reverse(),_=Object.keys(_).sort().reverse();let k=await r.$get("user/claimed/"+t.id);return{user:o,athlete:n,results:f,years:_,records:N,recordsArray:y,claimed:k.claimed,claimedBy:k.user,name:v,id:t.id}},computed:{isLoggedIn:function(){return this.$store.getters["auth/isLoggedIn"]}},methods:{claim:function(){this.user&&this.$axios.$post("user/claim/"+this.user._id+"/"+this.id).then(e=>{this.getClaim()})},addAlias:async function(){this.$axios.$post("user/"+this.user._id+"/alias/"+this.id).then(async e=>{e.success&&(await this.getClaim(),this.$store.dispatch("auth/fetchUser"))})},getClaim:async function(){let e=await this.$axios.$get("user/claimed/"+this.id);this.claimed=e.claimed,this.claimedBy=e.user}}},h=r(1);var component=Object(h.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.results.length<=0?e._ssrNode('<div class="w-90 mx-auto mt-4" data-v-3f33c06d>',"</div>",[e._ssrNode("<h1 data-v-3f33c06d> That athlete doesn't exist! </h1>\n  Click "),r("nuxt-link",{attrs:{to:"/"}},[e._v("here")]),e._ssrNode(" to go home\n")],2):e._e(),e._ssrNode(" "),e.results.length>0?e._ssrNode('<div class="row mw-100 pl-0 w-100 mx-0" data-v-3f33c06d>',"</div>",[e._ssrNode('<div class="col-md-8 col-12 px-0 order-12 order-md-1" data-v-3f33c06d>',"</div>",[e._ssrNode('<div itemscope="itemscope" itemtype="http://schema.org/Person" class="profile mt-4 mb-4 w-90 mx-auto" data-v-3f33c06d>',"</div>",[e._ssrNode('<div class="profile-header mb-3" data-v-3f33c06d>',"</div>",[e._ssrNode((e.athlete.profilePicUrl?"\x3c!----\x3e":'<img src="/images/default.png" itemprop="image" class="profile-pic mr-3 d-inline-block" data-v-3f33c06d>')+" "+(e.athlete.profilePicUrl?"<img"+e._ssrAttr("src",e.athlete.profilePicUrl.replace("http","https"))+' itemprop="image" class="profile-pic mr-3 d-inline-block" data-v-3f33c06d>':"\x3c!----\x3e")+" "),e._ssrNode('<div class="d-inline-block mr-3" data-v-3f33c06d>',"</div>",[e._ssrNode('<h1 itemprop="name" data-v-3f33c06d>'+e._ssrEscape(" "+e._s(e.name)+" ")+"</h1> "),e._ssrNode('<h2 class="mb-0" data-v-3f33c06d>',"</h2>",[e._ssrNode(e._ssrEscape("\n            @"+e._s(e.id)+"\n            \n            ")),e.athlete.stravaUrl?e._ssrNode("<a"+e._ssrAttr("href",e.athlete.stravaUrl)+' target="_blank" class="ml-3 strava" data-v-3f33c06d>',"</a>",[r("fa",{attrs:{icon:["fab","strava"]}}),e._ssrNode(" Strava\n            ")],2):e._e(),e._ssrNode(" "),e._ssrNode("<a"+e._ssrAttr("href","https://twitter.com/intent/tweet?text="+encodeURI("Check out this profile on RaceBase! @racebaseio")+"&url=https://racebase.io/athlete/"+e.id+"&hashtags=racebase")+' target="_blank" data-hashtags="racebase" class="ml-3" data-v-3f33c06d>',"</a>",[r("fa",{attrs:{icon:["fab","twitter"]}}),e._ssrNode(" Tweet\n            ")],2)],2)],2),e._ssrNode(" "+(e.isLoggedIn?'<button class="btn btn-primary follow mt-3 mt-lg-0 d-none" data-v-3f33c06d>\n          Follow\n        </button>':"\x3c!----\x3e"))],2),e._ssrNode(" "),e.athlete?e._ssrNode('<div class="profile-info mb-2" data-v-3f33c06d>',"</div>",[e._ssrNode('<div class="shoes mb-2" data-v-3f33c06d>'+(e.user.trainer?'<span class="trainer mr-3 d-block d-lg-inline-block" data-v-3f33c06d><object type="image/svg+xml" data="/images/trainer-blue.svg" class="shoe mr-1" data-v-3f33c06d></object>'+e._ssrEscape("\n            "+e._s(e.user.trainer)+"\n          ")+"</span>":"\x3c!----\x3e")+" "+(e.user.racer?'<span class="racer" data-v-3f33c06d><object type="image/svg+xml" data="/images/racer.svg" class="shoe mr-1" data-v-3f33c06d></object>'+e._ssrEscape("\n            "+e._s(e.user.racer)+"\n          ")+"</span>":"\x3c!----\x3e")+"</div> "),e._ssrNode('<div class="personal" data-v-3f33c06d>',"</div>",[e.user.mileage?e._ssrNode('<span class="mileage mr-3" data-v-3f33c06d>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"calendar-alt"}}),e._ssrNode(e._ssrEscape("\n            "+e._s(e.user.mileage)+" MPW\n          "))],2):e._e(),e._ssrNode(" "),e.user.location?e._ssrNode('<span class="location" data-v-3f33c06d>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"map-marker-alt"}}),e._ssrNode(' <span itemprop="homeLocation" data-v-3f33c06d>'+e._ssrEscape(" "+e._s(e.user.location)+" ")+"</span>")],2):e._e()],2)],2):e._e(),e._ssrNode(" "),e.claimed?e._e():e._ssrNode('<div class="claim-info" data-v-3f33c06d>',"</div>",[e._ssrNode("<div data-v-3f33c06d>","</div>",[e._ssrNode("\n          Is this you? \n          "),e.isLoggedIn?e._e():e._ssrNode("<span data-v-3f33c06d>","</span>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v("Log In")]),e._ssrNode(" or \n            "),r("nuxt-link",{attrs:{to:"/signup"}},[e._v("Sign Up")]),e._ssrNode(" \n            to claim this athlete profile.\n          ")],2),e._ssrNode(" "+(e.isLoggedIn?"<span data-v-3f33c06d>"+(e.user.athlete_id?"\x3c!----\x3e":"<span data-v-3f33c06d>\n              Click <a data-v-3f33c06d>here</a> to claim this profile.\n            </span>")+" "+(e.user.athlete_id?'<span data-v-3f33c06d>\n              Click <a href="#" data-v-3f33c06d>here</a> to add this profile to your aliases.\n            </span>':"\x3c!----\x3e")+"</span>":"\x3c!----\x3e"))],2)]),e._ssrNode(" "+(e.claimed&&e.user.athlete_id!=e.id?'<div class="claim-info" data-v-3f33c06d><div data-v-3f33c06d>'+e._ssrEscape("Claimed by "+e._s(e.claimedBy?e.claimedBy:"Anonymous"))+"</div> "+(e.claimedBy?'<div class="smaller" data-v-3f33c06d>\n          Click \n          <a href="mailto:racebase@breeze.software" data-v-3f33c06d>here</a> \n          to report a wrongfully claimed athlete.\n        </div>':"\x3c!----\x3e")+"</div>":"\x3c!----\x3e"))],2),e._ssrNode(" "+(e.results&&0!=e.results.length||!e.athlete?"\x3c!----\x3e":"<h3 data-v-3f33c06d>No Results</h3>")+" "),e._l(e.results,function(t,d){return e._ssrNode('<div class="mb-4 w-90 mx-auto" data-v-3f33c06d>',"</div>",[e._ssrNode('<h2 class="year mb-3" data-v-3f33c06d>'+e._ssrEscape(" "+e._s(e.years[d])+" ")+"</h2> "),e._ssrNode('<div class="results-container" data-v-3f33c06d>',"</div>",[e._ssrNode('<div class="table-responsive mb-4" data-v-3f33c06d>',"</div>",[e._ssrNode('<table class="results-table table table-striped mb-0" data-v-3f33c06d>',"</table>",[e._ssrNode("<tbody data-v-3f33c06d>","</tbody>",e._l(t,function(t){return e._ssrNode("<tr data-v-3f33c06d>","</tr>",[e._ssrNode('<td class="place" data-v-3f33c06d>',"</td>",[e._ssrNode('<div class="num" data-v-3f33c06d>'+e._ssrEscape(" "+e._s(t.place)+" ")+"</div> "),r("fa",{staticClass:"d-block mx-auto",attrs:{icon:"trophy"}})],2),e._ssrNode(" "),e._ssrNode('<td class="race" data-v-3f33c06d>',"</td>",[r("nuxt-link",{staticClass:"title mr-2",attrs:{to:"/races/"+t.race_id}},[e._v("\n                    "+e._s(t.race)+"\n                  ")]),e._ssrNode(' <div class="distance d-inline-block" data-v-3f33c06d>'+e._ssrEscape(" "+e._s(t.distance)+" ")+"</div> "),e._ssrNode('<div class="metadata mt-2" data-v-3f33c06d>',"</div>",[e._ssrNode('<span class="date mr-2" data-v-3f33c06d>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"calendar-alt"}}),e._ssrNode(e._ssrEscape("\n                      "+e._s(t.date)+"\n                    "))],2),e._ssrNode(" "),e._ssrNode('<span class="team no-wrap" data-v-3f33c06d>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:["fab","font-awesome-flag"]}}),e._ssrNode(" "),t.team_id?r("nuxt-link",{attrs:{to:"",to:"/team/"+t.team_id}},[e._v("\n                        "+e._s(t.team)+"\n                      ")]):e._e(),e._ssrNode(" "+(t.team_id?"\x3c!----\x3e":"<span data-v-3f33c06d>"+e._ssrEscape(e._s(t.team))+"</span>"))],2)],2)],2),e._ssrNode(' <td class="time" data-v-3f33c06d>'+e._ssrEscape("\n                  "+e._s(t.time))+(e.recordsArray.includes(t)?'<span class="star" data-v-3f33c06d>*</span>':"\x3c!----\x3e")+"</td>")],2)}),0)])])])],2)})],2),e._ssrNode(" "),e._ssrNode('<div class="col-12 col-md-4 pr-0 pl-0 pr-md-2 mt-4 ml-0 order-1 order-md-12 w-100" data-v-3f33c06d>',"</div>",[e.athlete.brandPicUrl&&e.athlete.featuredPicUrl?e._e():e._ssrNode('<div class="mb-3" style="text-align: center" data-v-3f33c06d>',"</div>",[e._ssrNode(" \n      Want to customize this page? <br data-v-3f33c06d> "),e.isLoggedIn?r("nuxt-link",{attrs:{to:"/user/settings"}},[e._v(" Claim this profile ")]):e._e(),e._ssrNode(" "),e.isLoggedIn?e._e():e._ssrNode("<span data-v-3f33c06d>","</span>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v(" Log In ")]),e._ssrNode(" or\n        "),r("nuxt-link",{attrs:{to:"/signup"}},[e._v(" Sign Up ")])],2),e._ssrNode(" <br data-v-3f33c06d> to add custom images.\n    ")],2),e._ssrNode(" "+(e.athlete.brandPicUrl?"<img"+e._ssrAttr("src",e.athlete.brandPicUrl.replace("http","https"))+' class="brand-pic brand mb-4" data-v-3f33c06d>':"\x3c!----\x3e")+" "+(e.athlete.featuredPicUrl?"<img"+e._ssrAttr("src",e.athlete.featuredPicUrl.replace("http","https"))+' class="user-image mb-4" data-v-3f33c06d>':"\x3c!----\x3e")+" "),e._ssrNode('<div class="table-responsive personal-records mt-4 mx-auto w-90" data-v-3f33c06d>',"</div>",[e._ssrNode('<table class="table mb-2" data-v-3f33c06d>',"</table>",[e._ssrNode('<thead data-v-3f33c06d><tr data-v-3f33c06d><th colspan="2" class="pb-2" data-v-3f33c06d> Personal Records </th></tr></thead> '),e._ssrNode("<tbody data-v-3f33c06d>","</tbody>",[e._ssrNode(e._ssrList(e.records,function(t,r){return'<tr data-v-3f33c06d><td class="distance" data-v-3f33c06d>'+e._ssrEscape(e._s(r))+'</td> <td class="time" data-v-3f33c06d>'+e._ssrEscape(e._s(t.time))+"</td></tr>"})+" "),Object.keys(e.records).length<3?e._ssrNode('<tr class="more" data-v-3f33c06d>',"</tr>",[e._ssrNode('<td colspan="2" data-v-3f33c06d>',"</td>",[e.isLoggedIn?e._ssrNode("<div data-v-3f33c06d>","</div>",[r("nuxt-link",{attrs:{to:"/user/content"}},[e._v("Add more results")])],1):e._e(),e._ssrNode(" "),e.isLoggedIn?e._e():e._ssrNode("<div data-v-3f33c06d>","</div>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v("Log in")]),e._ssrNode(" to add more results\n              ")],2)],2)]):e._e()],2)],2)])],2)],2):e._e()],2)},[],!1,function(e){var t=r(117);t.__inject__&&t.__inject__(e)},"3f33c06d","7da6f0bc");t.default=component.exports},75:function(e,t,r){var content=r(118);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var d=r(3).default;e.exports.__inject__=function(e){d("0e74738d",content,!0,e)}}};
//# sourceMappingURL=b293df6fc8fe1d164eab.js.map