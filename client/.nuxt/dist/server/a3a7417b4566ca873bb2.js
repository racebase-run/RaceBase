exports.ids=[27],exports.modules={106:function(e,t,d){"use strict";d.r(t);var c=d(69),o=d.n(c);for(var l in c)"default"!==l&&function(e){d.d(t,e,function(){return c[e]})}(l);t.default=o.a},107:function(e,t,d){(e.exports=d(2)(!1)).push([e.i,"h1[data-v-2ec3c51d]{font-size:32px;font-weight:500}h1 .name[data-v-2ec3c51d]{font-weight:400;color:#468df5}h2[data-v-2ec3c51d]{font-size:21px}h2[data-v-2ec3c51d],h4[data-v-2ec3c51d]{text-transform:uppercase}h4[data-v-2ec3c51d]{font-size:14px;color:#b1b1b1;font-weight:400;width:100%}.schedule input[data-v-2ec3c51d],h4 input[data-v-2ec3c51d]{display:inline-block;border:none;color:#468df5;font-size:14px;width:auto;padding:0;line-height:1;height:auto}.week[data-v-2ec3c51d]{padding:0;overflow:hidden}.log-pager.today[data-v-2ec3c51d]{color:#468df5}.day[data-v-2ec3c51d]{overflow:hidden;text-align:center;padding:0;min-height:100%;border-right:2px solid #f3f3f3}.day .calendar[data-v-2ec3c51d]{font-size:16px}.day .calendar .dow[data-v-2ec3c51d],.day .calendar .dow a[data-v-2ec3c51d]{text-align:left;text-transform:uppercase;font-weight:500;color:#000}.day .calendar .dom[data-v-2ec3c51d],.day .calendar .dom a[data-v-2ec3c51d]{color:#777;text-align:right}.day .calendar .dom.today[data-v-2ec3c51d]{border-radius:100px;background:#e72970;color:#fff;padding:2px 5px;display:table;width:auto;height:auto;margin-top:-5px!important;margin-right:10px}.day .calendar .dom.today a[data-v-2ec3c51d]{color:#fff}.day .placeholder[data-v-2ec3c51d]{font-size:17px;text-transform:uppercase;color:#777;font-weight:500}.day .placeholder .fa-pencil-alt[data-v-2ec3c51d]{display:block;margin:0 auto;font-size:24px;color:#468df5}.day .unit[data-v-2ec3c51d]{color:#777;font-size:14px;font-weight:400;text-transform:uppercase}.day .mileage[data-v-2ec3c51d]{font-weight:500;font-size:26px;color:#468df5}@media (min-width:992px){.day .mileage[data-v-2ec3c51d]{font-size:23px}}.day .pace[data-v-2ec3c51d]{font-weight:400;font-size:19px;color:#468df5}@media (min-width:992px){.day .pace[data-v-2ec3c51d]{font-size:16px}}.day .checks[data-v-2ec3c51d]{text-align:left;font-size:15px}.day .checks label[data-v-2ec3c51d]{margin-bottom:0;font-weight:500}.day .stats[data-v-2ec3c51d]{font-size:18px;font-weight:500}@media (min-width:992px){.day .stats[data-v-2ec3c51d]{font-size:15px}}.day .stats .fa-heartbeat[data-v-2ec3c51d]{color:#e72970}.day .stats .fa-bed[data-v-2ec3c51d]{color:#f67e2c}.day .feel[data-v-2ec3c51d]{width:100%;height:7px;background:#777}.day .f1[data-v-2ec3c51d]{background:#e72970}.day .f2[data-v-2ec3c51d]{background:#f67e2c}.day .f3[data-v-2ec3c51d]{background:#1acbb0}.day .f4[data-v-2ec3c51d]{background:#468df5}.day .f5[data-v-2ec3c51d]{background:#802dc4}.schedule[data-v-2ec3c51d]{max-width:100%;font-size:17px}.schedule h4[data-v-2ec3c51d]{font-size:15px}.schedule .col .label[data-v-2ec3c51d]{text-transform:uppercase;color:#575757;font-weight:500;text-align:center}@media (min-width:992px){.schedule .col .label[data-v-2ec3c51d]{text-align:right}}.schedule .col .mileage[data-v-2ec3c51d]{color:#468df5;font-weight:500}.schedule .col input[data-v-2ec3c51d]{font-size:17px;text-align:center;width:100%}.schedule .goal[data-v-2ec3c51d]{background:#468df5;font-size:16px;color:#fff;border-radius:5px;padding:2px 7px;white-space:nowrap}.stats.row .box[data-v-2ec3c51d]{margin:10px;overflow:hidden}.stats.row .box .placeholder[data-v-2ec3c51d]{text-transform:uppercase;color:#777;font-weight:400;font-size:14px}.num[data-v-2ec3c51d]{color:#468df5}.data[data-v-2ec3c51d]{text-align:right;font-weight:500;font-size:21px;color:#777}",""])},152:function(e,t,d){"use strict";d.r(t);var c=d(55),o=d.n(c);Array.prototype.sum=function(e){for(var t=0,i=0,d=this.length;i<d;i++)t+=this[i][e];return t};let{timeStringToDecimal:l,timeDecimalToString:r,formatDateUrl:n,getDateFromUrl:v,getPace:f}=d(59),h=function(e){return Math.round(100*e)/100},m=function(data,e){return data.filter(a=>a[e]>0).map(a=>a[e])};var _={components:{Chart:()=>d.e(29).then(d.bind(null,164)),LogPagers:()=>d.e(3).then(d.bind(null,165)),Stat:()=>d.e(35).then(d.bind(null,166))},middleware:"auth",async asyncData({store:e,params:t,$axios:d}){o.a.locale("en-US");let c={...e.state.auth.user};c.name?c.firstName=c.name.split(" ")[0]:c.firstName="";let m=t.date,_=v(t.date),x=o()(_).startOf("isoWeek").format("M/D/YY"),data=await d.$get("/log/list/week/"+m),y=n(o()(_).subtract(7,"days")),w=await d.$get("/log/list/week/"+y);console.log(data);let N=await Array.apply(null,Array(7)).map(function(e,i){let d=o()(v(t.date)).startOf("week").weekday(i+1),c=d.format("dddd"),m=d.format("ddd"),_=d.format("DD"),x=n(d);var y=!1;if(n(o()())==n(d)&&(y=!0),console.log(data[i].date),console.log(o()(data[i].date)),console.log(i,data.length),console.log(o()(data[i].date).format("dddd"),c),i<data.length&&o()(data[i].date).format("dddd")==c){let e=data[i];e.dow=m,e.dom=_,e.today=y,e.url=x;let t=function(e){for(var t=0,d=0,c=0,i=0,o=e.length;i<o;i++)t+=e[i].distance||0,d+=e[i].elevationGain||0,c+=l(e[i].time);return{totalMileage:h(t),totalElev:h(d),totalTime:r(h(c))}}(e.runs);return e.totalMileage=t.totalMileage,e.totalTime=t.totalTime,e.sleepDecimal=l(e.sleep),e.avgPace=f(e.totalTime,e.totalMileage),e}return{dow:m,dom:_,today:y,url:x}});return console.log(N),{days:N,lastWeek:w,weekOf:x,user:c,date:t.date||n(o()())}},computed:{totalMileage:function(){for(var e=0,i=0,t=this.days.length;i<t;i++)this.days[i].totalMileage&&(e+=this.days[i].totalMileage||0);return Math.round(100*e)/100},totalElev:function(){for(var e=0,i=0,t=this.days.length;i<t;i++)this.days[i].run&&(e+=this.days[i].run.elevationGain);return Math.round(100*e)/100},totalGoal:function(){for(var e=0,i=0,t=this.days.length;i<t;i++)e+=Number(this.days[i].mileageGoal)||0;return Math.round(100*e)/100},avgSleep:function(){for(var e=0,t=0,i=0;i<this.days.length;i++)this.days[i].sleep&&(e+=l(this.days[i].sleep),t++);return r(e/t)},sleepDifferential:function(){let e=l(this.avgSleep);for(var t=0,d=0,i=0;i<this.days.length;i++)this.days[i].sleep&&this.lastWeek[i]&&(t+=l(this.lastWeek[i].sleep),d++);let c=t/d||0;return Math.round((e-c)/c*1e3)/10||0},sleepData:function(){return m(this.days,"sleepDecimal")},mileageData:function(){return m(this.days,"totalMileage")}},methods:{changeDate:function(e){let t=o()(e,"M/D/YY");t.isValid()&&this.$router.push({params:{date:n(t)}})},updateSchedule:function(e,t){this.$axios.$post("log/"+t+"/goal",{goal:e}).then(e=>{console.log(e)})},getCheckPercentage:function(e){let t=0,d=0;for(var i=0;i<this.days.length;i++)this.days[i].runs&&this.days[i].checks&&(this.days[i].checks[e]&&d++,this.days[i].runs[0]&&this.days[i].runs[0].distance>0&&t++);return Math.round(d/t*100)||0}},watch:{$route:function(){this.date=this.$route.params.date||this.date}}},x=d(1);var component=Object(x.a)(_,function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("div",{staticClass:"mx-auto w-md-100 mx-md-0 px-md-4 container"},[e._ssrNode('<div class="row" data-v-2ec3c51d><h1 class="mt-4 col" data-v-2ec3c51d>'+(e.user.name?'<span class="name" data-v-2ec3c51d>'+e._ssrEscape(e._s(e.user.firstName)+"'s")+"</span>":"\x3c!----\x3e")+'\n      Training Log\n    </h1> <div class="col d-flex align-items-center justify-content-end" data-v-2ec3c51d><div class="btn btn-primary" data-v-2ec3c51d>Monthly View</div></div></div> '),e._ssrNode('<div class="header row mb-2" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="col d-flex align-items-center" data-v-2ec3c51d><h4 class="mt-4 mb-0" data-v-2ec3c51d>Week of \n        <input type="text"'+e._ssrAttr("value",e.weekOf)+' class="form-control" data-v-2ec3c51d></h4></div> '),e._ssrNode('<div class="col d-flex flex-row align-items-end" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="btn btn-default log-pager ml-auto mr-2 today" data-v-2ec3c51d> Today </div> '),d("LogPagers",{attrs:{date:e.date,interval:"7"}})],2)],2),e._ssrNode(" "),e._ssrNode('<div class="week box row mt-3 mx-auto mb-3" data-v-2ec3c51d>',"</div>",e._l(e.days,function(t){return e._ssrNode('<div class="day col-lg d-flex flex-column" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="calendar row p-2" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="dow col" data-v-2ec3c51d>',"</div>",[d("nuxt-link",{attrs:{to:"/user/log/"+t.url}},[e._v(e._s(t.dow)+" ")])],1),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass("dom col",t.today?"today":"")+" data-v-2ec3c51d>","</div>",[d("nuxt-link",{attrs:{to:"/user/log/"+t.url}},[e._v(e._s(t.dom)+" ")])],1)],2),e._ssrNode(" "),e._ssrNode('<div class="row mb-4 mb-lg-auto" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="mt-auto mb-auto col-6 col-lg-12" data-v-2ec3c51d>',"</div>",[t.totalMileage>0?e._ssrNode('<div class="mt-auto" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="mileage" data-v-2ec3c51d>'+e._ssrEscape(" "+e._s(t.totalMileage||0)+" ")+'<span class="unit" data-v-2ec3c51d> mi </span></div> <div class="pace" data-v-2ec3c51d>'+e._ssrEscape(" "+e._s(t.avgPace||"0:00")+" ")+'<span class="unit" data-v-2ec3c51d> min / mi </span></div>')],2):t.rhr||t.sleep?e._ssrNode("<div data-v-2ec3c51d>","</div>",[d("nuxt-link",{staticClass:"placeholder",attrs:{to:"/user/log/"+t.url}},[d("div",{staticClass:"mb-2"},[e._v(" Edit "),d("fa",{attrs:{icon:"pencil-alt"}})],1)])],1):e._ssrNode('<div class="mt-3 mb-5" data-v-2ec3c51d>',"</div>",[d("nuxt-link",{staticClass:"placeholder",attrs:{to:"/user/log/"+t.url}},[d("div",{staticClass:"mb-2"},[e._v(" Edit ")]),e._v(" "),d("fa",{attrs:{icon:"pencil-alt"}})],1)],1)]),e._ssrNode(" "),e._ssrNode('<div class="col-6 col-lg-12" data-v-2ec3c51d>',"</div>",[t.rhr||t.sleep?e._ssrNode('<div class="mt-2" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="stats mb-3" data-v-2ec3c51d>',"</div>",[e._ssrNode("<div data-v-2ec3c51d>","</div>",[d("fa",{staticClass:"mr-2",attrs:{icon:"heartbeat"}}),e._ssrNode(e._ssrEscape(" "+e._s(t.rhr||"N/A")+" ")+'<span class="unit ml-2" data-v-2ec3c51d> BPM </span>')],2),e._ssrNode(" "),e._ssrNode("<div data-v-2ec3c51d>","</div>",[d("fa",{staticClass:"mr-2",attrs:{icon:"bed"}}),e._ssrNode(e._ssrEscape(" "+e._s(t.sleep||"N/A")+" ")+'<span class="unit ml-2" data-v-2ec3c51d> hrs </span>')],2)],2)]):e._e(),e._ssrNode(" "),!t.rhr&&!t.sleep&&t.totalMileage>0?e._ssrNode('<div class="mx-auto mt-3" data-v-2ec3c51d>',"</div>",[d("nuxt-link",{attrs:{to:"/user/log/"+t.url}},[e._v(" Add more "),d("fa",{attrs:{icon:"pencil-alt"}})],1)],1):e._e()],2)],2),e._ssrNode(" <div"+e._ssrClass("feel mt-1","f"+(t.run?t.run.feel:""))+" data-v-2ec3c51d></div>")],2)}),0),e._ssrNode(' <div class="schedule row align-items-center mb-3" data-v-2ec3c51d><h4 class="col-12 col-lg mb-2 mb-lg-0" data-v-2ec3c51d> Scheduled </h4> '+e._ssrList(e.days,function(t){return'<div class="col row item" data-v-2ec3c51d><div class="col-12 col-lg-6 label px-0" data-v-2ec3c51d>'+e._ssrEscape(e._s(t.dow))+'</div> <div class="col-12 col-lg-6 mileage px-0" data-v-2ec3c51d><input placeholder="0"'+e._ssrAttr("value",t.mileageGoal)+' class="form-control" data-v-2ec3c51d></div></div>'})+' <div class="col-12 col-lg d-flex align-items-center mt-3 mt-lg-0" data-v-2ec3c51d><h4 class="d-inline-block mb-0" data-v-2ec3c51d> Goal </h4> <div class="d-inline-block goal ml-3" data-v-2ec3c51d>'+e._ssrEscape(" "+e._s(e.totalGoal||0)+" mi")+"</div></div></div> "),e._ssrNode('<div class="stats row align-items-start" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="box col-lg p-0" data-v-2ec3c51d>',"</div>",[e._ssrNode('<div class="row mb-2 px-3 pt-3 pb-0" data-v-2ec3c51d>',"</div>",[e._ssrNode('<h2 class="col" data-v-2ec3c51d> Total </h2> <div class="data col mb-2" data-v-2ec3c51d><span class="num" data-v-2ec3c51d>'+e._ssrEscape(e._s(e.totalMileage))+"</span> mi</div> "),d("Stat",{attrs:{value:Math.round(100*(e.totalGoal-e.totalMileage))/100||0,unit:" mi"}},[e._v(" left this week ")]),e._ssrNode(" "),d("Stat",{attrs:{value:e.totalElev,unit:" ft"}},[e._v(" elev. gain this week ")]),e._ssrNode(" "+(0==e.totalMileage?'<div class="mx-auto mt-3 placeholder" data-v-2ec3c51d>\n          Add log entries to see stats\n        </div>':"\x3c!----\x3e"))],2),e._ssrNode(" "),e.totalMileage>0&&e.mileageData.length>1?d("no-ssr",[d("Chart",{attrs:{data:e.mileageData,name:"mileage",color:"blue"}})],1):e._e()],2),e._ssrNode(" "),e._ssrNode('<div class="sleep box col-lg p-0" data-v-2ec3c51d>',"</div>",[e._ssrNode("<div data-v-2ec3c51d>","</div>",[e._ssrNode('<div class="row pt-3 px-3 pb-0 mb-2" data-v-2ec3c51d>',"</div>",[e._ssrNode('<h2 class="col" data-v-2ec3c51d> Avg Sleep </h2> <div class="data col mb-2" data-v-2ec3c51d><span class="num" data-v-2ec3c51d>'+e._ssrEscape(e._s(e.avgSleep))+"</span> hrs</div> "),d("Stat",{attrs:{value:e.sleepDifferential,unit:"%",comp:!0}},[e._v(" than last week ")]),e._ssrNode(" "+("0:00"==e.avgSleep?'<div class="mx-auto mt-3 placeholder" data-v-2ec3c51d> \n            Add log entries to see stats\n          </div>':"\x3c!----\x3e"))],2),e._ssrNode(" "),"0:00"!=e.avgSleep&&e.sleepData.length>1?d("no-ssr",{staticClass:"mt-2"},[d("Chart",{attrs:{data:e.sleepData,name:"sleep",color:"orange"}})],1):e._e()],2)]),e._ssrNode(' <div class="box col-lg" data-v-2ec3c51d><div class="row mb-2" data-v-2ec3c51d><h2 class="col" data-v-2ec3c51d> Core </h2> <div class="data col" data-v-2ec3c51d><span class="num" data-v-2ec3c51d>'+e._ssrEscape(e._s(e.getCheckPercentage("core"))+"%")+'</span></div></div> <div class="row" data-v-2ec3c51d><h2 class="col" data-v-2ec3c51d> Stretching </h2> <div class="data col" data-v-2ec3c51d><span class="num" data-v-2ec3c51d>'+e._ssrEscape(e._s(e.getCheckPercentage("stretching"))+"%")+"</span></div></div></div>")],2)],2)},[],!1,function(e){var t=d(106);t.__inject__&&t.__inject__(e)},"2ec3c51d","45602a1a");t.default=component.exports},59:function(e,t,d){"use strict";d.r(t),d.d(t,"timeStringToDecimal",function(){return l}),d.d(t,"timeDecimalToString",function(){return r}),d.d(t,"formatDateUrl",function(){return n}),d.d(t,"getDateFromUrl",function(){return v}),d.d(t,"getPace",function(){return f});var c=d(55),o=d.n(c);function l(e){if(!e)return 0;let a=e.split(":");return(60*+a[0]+ +a[1])/60}function r(e){let t=Math.floor(e),s=Math.round(60*(e-t));if(s>=60){let e=Math.floor(s/60);t+=e,s-=60*e}return s=("0"+s).slice(-2),"NaN"==t||"aN"==s?"0:00":t+":"+s}function n(e){return e.format("MM-DD-YYYY")}function v(s){let e;return e=s&&o()(s,"MM-DD-YYYY").isValid()?o()(s,"MM-DD-YYYY").toDate():new Date}function f(time,e){if(!time||!e)return"0:00";let a=time.split(":");return r((60*+a[0]+ +a[1])/e/60)}},69:function(e,t,d){var content=d(107);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var c=d(3).default;e.exports.__inject__=function(e){c("0684f55d",content,!0,e)}}};
//# sourceMappingURL=a3a7417b4566ca873bb2.js.map