(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{765:function(t,e,n){"use strict";n.r(e);n(59),n(60),n(22);var r=n(2),l=n(423),o=n.n(l),c=function(t,e){return t.filter(function(t,n,r){return r.map(function(t){return t[e]}).indexOf(t[e])===n})},d={components:{GenderPicker:function(){return n.e(18).then(n.bind(null,790))}},head:function(){return{title:this.teamName+" - RaceBase",meta:[{hid:"OpenGraph Title",property:"og:title",content:this.teamName+" - Team Results"},{hid:"OpenGraph Image",property:"og:image",content:"https://racebase.io/images/opengraph/team.png"},{hid:"Description",name:"description",content:"View "+this.teamName+"'s results on RaceBase, the Internet's first community sourced results database"},{hid:"OpenGraph Description",property:"og:description",content:"View "+this.teamName+"'s race results on RaceBase, the Internet's first community sourced results database"}]}},data:function(){return{showAthletes:!1}},asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,l,d,h,m,_,v,f,w,C;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,r=e.params,l=e.redirect,d=r.id,h=r.gender||"mens",t.next=5,n.$get("result/list/team/"+d+"/"+h+"/years");case 5:return(m=t.sent)&&m.length||l("/team/notfound"),_=r.year||m[0],m.includes(_)||(_=m[0]),t.next=11,n.$get("result/list/team/"+d+"/"+_+"/"+h);case 11:return(v=t.sent)||l("/notfound"),f=o.a.groupBy(o.a.sortBy(v,"place"),"event"),w=c(v,"athlete"),C=v[0].team,t.abrupt("return",{teamId:d,years:m,curYear:_,results:f,athletes:w,teamName:C,curGender:h});case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{updateResults:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("result/list/team/"+this.teamId+"/"+this.curYear+"/"+this.curGender);case 2:(e=t.sent)&&(this.results=e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},watch:{$route:function(){this.curGender=this.$route.params.gender||"mens",this.curYear=this.$route.params.year||this.years[0],this.updateResults()}}},h=n(14),component=Object(h.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-auto w-90 w-md-100 mx-md-0 pl-md-5 mt-4"},[0!=t.results.length?n("h1",{},[t._v(" \n    "+t._s(t.teamName)+" \n    "),n("small",[t._v("Team Results")])]):n("h1",[t._v("There is no team with that ID!")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center mb-2"},[n("h5",{staticClass:"mr-4 mb-0"},[t._v(" @"+t._s(t.teamId)+" ")]),t._v(" "),n("nuxt-link",{attrs:{to:"/team/"+t.teamId+"/schedule"}},[n("fa",{attrs:{icon:"calendar-alt"}}),t._v(" Meet Schedule\n    ")],1)],1),t._v(" "),0!=t.results.length?n("div",{staticClass:"btn-group-wrap team-dropdowns"},[n("div",{staticClass:"btn btn-default",on:{click:function(e){t.showAthletes=!t.showAthletes}}},[t._v("\n      Athletes\n      "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.showAthletes,expression:"!showAthletes"}],key:"down-arrow"},[n("fa",{attrs:{icon:"chevron-circle-down"}})],1),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.showAthletes,expression:"showAthletes"}],key:"up-arrow"},[n("fa",{attrs:{icon:"chevron-circle-up"}})],1)]),t._v(" "),n("div",{staticClass:"btn-group dropdown-btn-group"},[n("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        Year\n      ")]),t._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.years,function(e){return n("li",[n("nuxt-link",{staticClass:"dropdown-item",attrs:{to:{params:{year:e,gender:t.curGender||"mens"}}}},[t._v("\n            "+t._s(e)+"\n          ")])],1)}),0)]),t._v(" "),0!=t.results.length?n("gender-picker",{staticClass:"ml-1",attrs:{gender:t.curGender}}):t._e()],1):t._e(),t._v(" "),t.showAthletes?n("div",{staticClass:"card p-3"},[n("h4",[t._v("Athletes")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6"},[n("ul",{staticClass:"list-group"},[n("li",[n("b",[t._v(t._s("mens"==t.curGender?"Mens":"Womens"))])]),t._v(" "),t._l(t.athletes,function(e){return n("li",[e.athlete_id?n("nuxt-link",{attrs:{to:"/athlete/"+e.athlete_id}},[t._v(t._s(e.athlete))]):t._e(),t._v(" "),e.athlete_id?t._e():n("span",[t._v(t._s(e.athlete))])],1)})],2)])])])]):t._e(),t._v(" "),0==t.results.length?n("div",{staticClass:"panel panel-default panel-no-results"},[n("div",{staticClass:"panel-body"},[t._v("\n      No results!\n    ")])]):t._e(),t._v(" "),t._l(t.results,function(e){return n("div",{staticClass:"results-container mb-4 mt-3"},[n("h5",[n("a",{attrs:{href:"/races/"+e[0].race_id}},[t._v("\n        "+t._s(e[0].race)+"\n      ")])]),t._v(" "),n("div",[t._v(t._s(e[0].event))]),t._v(" "),e[0].date?n("div",{staticClass:"mb-3"},[t._v(" "+t._s(e[0].date))]):t._e(),t._v(" "),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table database table-striped mb-0"},[n("thead",[n("tr",[n("th"),t._v(" "),n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("Time")]),t._v(" "),n("th",{staticClass:"author-data-header"},[n("fa",{attrs:{icon:"user"}})],1)])]),t._v(" "),n("tbody",t._l(e,function(e){return n("tr",[n("td",{staticClass:"data place-data"},[t._v("\n              "+t._s(e.place)+"\n            ")]),t._v(" "),n("td",{staticClass:"data name-data"},[e.athlete_id?n("a",{attrs:{href:"/athlete/"+e.athlete_id}},[t._v("\n                "+t._s(e.athlete)+"\n              ")]):t._e(),t._v(" "),e.athlete_id?t._e():n("span",[t._v("\n                "+t._s(e.athlete)+"\n              ")])]),t._v(" "),n("td",{staticClass:"data time-data"},[t._v("\n              "+t._s(e.time)+"\n              Â \n              "),e.verified?n("fa",{staticClass:"verified-data",attrs:{icon:"check"}}):t._e()],1),t._v(" "),n("td",{staticClass:"data author-data"},[t._v("\n              "+t._s(e.user)+"\n            ")])])}),0)])])])})],2)},[],!1,null,null,null);e.default=component.exports}}]);