exports.ids=[18],exports.modules={151:function(e,t,r){"use strict";r.r(t);var c=r(84),o=r.n(c);for(var d in c)"default"!==d&&function(e){r.d(t,e,function(){return c[e]})}(d);t.default=o.a},152:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,".profile-header h1[data-v-6e36c9ec]{font-size:23px;font-weight:500}.profile-header h2[data-v-6e36c9ec]{font-size:16px;font-weight:400}.profile-header .btn.follow[data-v-6e36c9ec]{vertical-align:top;font-size:13px;font-weight:500;text-transform:uppercase;height:25px;padding:3px 6px}.profile-header .strava[data-v-6e36c9ec]{color:#f67e2c}.profile-pic[data-v-6e36c9ec]{border-radius:7px;overflow:hidden;display:inline-block;width:58px;height:58px}.profile-info .shoe[data-v-6e36c9ec]{width:25px}h2.year[data-v-6e36c9ec]{font-size:23px}h3.event-header[data-v-6e36c9ec]{text-align:left;text-transform:uppercase;font-weight:500;font-size:18px}.results-table td[data-v-6e36c9ec]{vertical-align:middle}.results-table .place[data-v-6e36c9ec]{text-align:center;font-size:11px}.results-table .place .num[data-v-6e36c9ec]{font-size:18px;font-weight:500}.results-table .title[data-v-6e36c9ec]{color:#3976d0;font-size:17px;font-weight:500}.results-table .metadata[data-v-6e36c9ec]{font-size:14px}.results-table .metadata .btn-small[data-v-6e36c9ec]{padding:2px 4px}.results-table .distance[data-v-6e36c9ec]{font-weight:500}.results-table .time[data-v-6e36c9ec]{font-family:DS Digital,Helvetica,sans-serif;font-size:27px;color:#468df5;text-align:right;padding-right:15px}.results-table .time .star[data-v-6e36c9ec]{color:#3976d0}.brand[data-v-6e36c9ec]{width:70px}.brand[data-v-6e36c9ec],.user-image[data-v-6e36c9ec]{display:block;margin:0 auto}.user-image[data-v-6e36c9ec]{width:90%;border-radius:5px}.personal-records[data-v-6e36c9ec]{margin:0 auto}.personal-records thead[data-v-6e36c9ec]{width:100%;text-align:center;font-weight:500}.personal-records thead th[data-v-6e36c9ec]{text-transform:uppercase;border:none;font-size:16px;color:grey;padding-bottom:0;border-bottom:none!important}.personal-records td[data-v-6e36c9ec]{vertical-align:middle;padding:0 15px}.personal-records .distance[data-v-6e36c9ec]{text-transform:uppercase;font-weight:500;font-size:16px}.personal-records .time[data-v-6e36c9ec]{font-family:DS Digital;color:#3976d0;font-size:22px;text-align:right}.personal-records .more[data-v-6e36c9ec]{text-align:right;font-style:italic;font-size:12px;text-transform:uppercase}.personal-records .more div[data-v-6e36c9ec]{margin-top:15px}.personal-records .more a[data-v-6e36c9ec]{text-decoration:underline}",""])},219:function(e,t,r){"use strict";r.r(t);var c=r(58),o=r.n(c);let{format:d}=r(83);var n={components:{ProfilePic:()=>r.e(0).then(r.bind(null,232))},head(){return{title:this.name+" - RaceBase",meta:[{hid:"OpenGraph Title",property:"og:title",content:this.athlete.name},{hid:"OpenGraph URL",property:"og:url",content:"https://racebase.io"+this.$route.fullPath},{hid:"OpenGraph Image",property:"og:image",content:this.athlete.profilePicUrl},{hid:"Description",name:"description",content:"View "+this.name+"'s race results on RaceBase, the Internet's first community sourced results database"},{hid:"OpenGraph Description",property:"og:description",content:"View "+this.name+"'s race results on RaceBase, the Internet's first community sourced results database"}]}},async asyncData({store:e,params:t,$axios:r,redirect:c}){let n=e.state.auth.user,l={};n&&n.following&&(l=n.following.includes(t.id));let m=await r.$get("user/athlete/"+t.id),v=await r.$get("result/list/athlete/"+t.id);(!v||v.length<1)&&c("/notfound");let h=m?m.name:v[0].athlete;t.id;for(var _ in v)try{var f=v[_];f.distance=d(f.event);let e=new Date(f.date);f.year=e.getFullYear()}catch(e){console.log(e)}let x=o.a.groupBy(v,"year"),N=o.a.groupBy(v,"distance"),w={},y=[];for(var k in N)w[k]=o.a.sortBy(N[k],"time")[0],y.push(w[k]);v=o.a.sortBy(Object.values(x),"year").reverse(),x=Object.keys(x).sort().reverse();let C=await r.$get("user/claimed/"+t.id);return{user:n,athlete:m,results:v,years:x,records:w,recordsArray:y,claimed:C.claimed,claimedBy:C.user,name:h,id:t.id,following:l}},computed:{isLoggedIn:function(){return this.$store.getters["auth/isLoggedIn"]}},methods:{claim:function(){this.user&&this.$axios.$post("user/claim/"+this.user._id+"/"+this.id).then(e=>{this.getClaim()})},addAlias:async function(){this.$axios.$post("user/"+this.user._id+"/alias/"+this.id).then(async e=>{e.success&&(await this.getClaim(),this.$store.dispatch("auth/fetchUser"))})},getClaim:async function(){let e=await this.$axios.$get("user/claimed/"+this.id);this.claimed=e.claimed,this.claimedBy=e.user},follow:async function(){await this.$axios.$post("user/follow/"+this.id),this.following=!0,this.$store.dispatch("auth/fetchUser")},unfollow:async function(){await this.$axios.$post("user/unfollow/"+this.id),this.following=!1,this.$store.dispatch("auth/fetchUser")}}},l=r(1);var component=Object(l.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.results.length<=0?e._ssrNode('<div class="w-90 mx-auto mt-4" data-v-6e36c9ec>',"</div>",[e._ssrNode("<h1 data-v-6e36c9ec> That athlete doesn't exist! </h1>\n  Click "),r("nuxt-link",{attrs:{to:"/"}},[e._v("here")]),e._ssrNode(" to go home\n")],2):e._e(),e._ssrNode(" "),e.results.length>0?e._ssrNode('<div class="row mw-100 pl-0 w-100 mx-0" data-v-6e36c9ec>',"</div>",[e._ssrNode('<div class="col-md-8 col-12 px-0 order-12 order-md-1" data-v-6e36c9ec>',"</div>",[e._ssrNode('<div itemscope="itemscope" itemtype="http://schema.org/Person" class="profile mt-4 mb-4 w-90 mx-auto" data-v-6e36c9ec>',"</div>",[e._ssrNode('<div class="profile-header d-flex align-items-start mb-3" data-v-6e36c9ec>',"</div>",[e._ssrNode('<div class="profile-pic mr-3" data-v-6e36c9ec>',"</div>",[r("ProfilePic",{attrs:{url:e.athlete.profilePicUrl}})],1),e._ssrNode(" "),e._ssrNode('<div class="d-inline-block mr-3" data-v-6e36c9ec>',"</div>",[e._ssrNode('<h1 itemprop="name" data-v-6e36c9ec>'+e._ssrEscape(" "+e._s(e.name)+" ")+"</h1> "),e._ssrNode('<h2 class="mb-0" data-v-6e36c9ec>',"</h2>",[e._ssrNode(e._ssrEscape("\n            @"+e._s(e.id)+"\n            \n            ")),e.athlete.stravaUrl?e._ssrNode("<a"+e._ssrAttr("href",e.athlete.stravaUrl)+' target="_blank" class="ml-3 strava" data-v-6e36c9ec>',"</a>",[r("fa",{attrs:{icon:["fab","strava"]}}),e._ssrNode(" Strava\n            ")],2):e._e(),e._ssrNode(" "),e._ssrNode("<a"+e._ssrAttr("href","https://twitter.com/intent/tweet?text="+encodeURI("Check out this profile on RaceBase! @racebaseio")+"&url=https://racebase.io/athlete/"+e.id+"&hashtags=racebase")+' target="_blank" data-hashtags="racebase" class="ml-3" data-v-6e36c9ec>',"</a>",[r("fa",{attrs:{icon:["fab","twitter"]}}),e._ssrNode(" Tweet\n            ")],2)],2)],2),e._ssrNode(" "+(e.isLoggedIn&&!e.following?'<button class="btn btn-primary follow mt-3 mt-lg-0" data-v-6e36c9ec>\n          Follow\n        </button>':"\x3c!----\x3e")+" "),e.isLoggedIn&&e.following?e._ssrNode('<button class="btn btn-default follow mt-3 mt-lg-0" data-v-6e36c9ec>',"</button>",[e._ssrNode("\n          Following "),r("fa",{staticClass:"ml-2",attrs:{icon:"check"}})],2):e._e()],2),e._ssrNode(" "),e.athlete?e._ssrNode('<div class="profile-info mb-2" data-v-6e36c9ec>',"</div>",[e._ssrNode('<div class="shoes mb-2" data-v-6e36c9ec>'+(e.athlete.trainer?'<span class="trainer mr-3 d-block d-lg-inline-block" data-v-6e36c9ec><object type="image/svg+xml" data="/images/trainer-blue.svg" class="shoe mr-1" data-v-6e36c9ec></object>'+e._ssrEscape("\n            "+e._s(e.athlete.trainer)+"\n          ")+"</span>":"\x3c!----\x3e")+" "+(e.athlete.racer?'<span class="racer" data-v-6e36c9ec><object type="image/svg+xml" data="/images/racer.svg" class="shoe mr-1" data-v-6e36c9ec></object>'+e._ssrEscape("\n            "+e._s(e.athlete.racer)+"\n          ")+"</span>":"\x3c!----\x3e")+"</div> "),e._ssrNode('<div class="personal" data-v-6e36c9ec>',"</div>",[e.athlete.mileage?e._ssrNode('<span class="mileage mr-3" data-v-6e36c9ec>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"calendar-alt"}}),e._ssrNode(e._ssrEscape("\n            "+e._s(e.athlete.mileage)+" MPW\n          "))],2):e._e(),e._ssrNode(" "),e.athlete.location?e._ssrNode('<span class="location" data-v-6e36c9ec>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"map-marker-alt"}}),e._ssrNode(' <span itemprop="homeLocation" data-v-6e36c9ec>'+e._ssrEscape(" "+e._s(e.athlete.location)+" ")+"</span>")],2):e._e()],2)],2):e._e(),e._ssrNode(" "),e.claimed?e._e():e._ssrNode('<div class="claim-info" data-v-6e36c9ec>',"</div>",[e._ssrNode("<div data-v-6e36c9ec>","</div>",[e._ssrNode("\n          Is this you? \n          "),e.isLoggedIn?e._e():e._ssrNode("<span data-v-6e36c9ec>","</span>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v("Log In")]),e._ssrNode(" or \n            "),r("nuxt-link",{attrs:{to:"/signup"}},[e._v("Sign Up")]),e._ssrNode(" \n            to claim this athlete profile.\n          ")],2),e._ssrNode(" "+(e.isLoggedIn?"<span data-v-6e36c9ec>"+(e.user.athlete_id?"\x3c!----\x3e":"<span data-v-6e36c9ec>\n              Click <a data-v-6e36c9ec>here</a> to claim this profile.\n            </span>")+" "+(e.user.athlete_id?'<span data-v-6e36c9ec>\n              Click <a href="#" data-v-6e36c9ec>here</a> to add this profile to your aliases.\n            </span>':"\x3c!----\x3e")+"</span>":"\x3c!----\x3e"))],2)]),e._ssrNode(" "+(e.claimed&&e.user.athlete_id!=e.id?'<div class="claim-info" data-v-6e36c9ec><div data-v-6e36c9ec>'+e._ssrEscape("Claimed by "+e._s(e.claimedBy?e.claimedBy:"Anonymous"))+"</div> "+(e.claimedBy?'<div class="smaller" data-v-6e36c9ec>\n          Click \n          <a href="mailto:racebase@breeze.software" data-v-6e36c9ec>here</a> \n          to report a wrongfully claimed athlete.\n        </div>':"\x3c!----\x3e")+"</div>":"\x3c!----\x3e"))],2),e._ssrNode(" "+(e.results&&0!=e.results.length||!e.athlete?"\x3c!----\x3e":"<h3 data-v-6e36c9ec>No Results</h3>")+" "),e._l(e.results,function(t,c){return e._ssrNode('<div class="mb-4 w-90 mx-auto" data-v-6e36c9ec>',"</div>",[e._ssrNode('<h2 class="year mb-3" data-v-6e36c9ec>'+e._ssrEscape(" "+e._s(e.years[c])+" ")+"</h2> "),e._ssrNode('<div class="results-container" data-v-6e36c9ec>',"</div>",[e._ssrNode('<div class="table-responsive mb-4" data-v-6e36c9ec>',"</div>",[e._ssrNode('<table class="results-table table table-striped mb-0" data-v-6e36c9ec>',"</table>",[e._ssrNode("<tbody data-v-6e36c9ec>","</tbody>",e._l(t,function(t){return e._ssrNode("<tr data-v-6e36c9ec>","</tr>",[e._ssrNode('<td class="place" data-v-6e36c9ec>',"</td>",[e._ssrNode('<div class="num" data-v-6e36c9ec>'+e._ssrEscape(" "+e._s(t.place)+" ")+"</div> "),r("fa",{staticClass:"d-block mx-auto",attrs:{icon:"trophy"}})],2),e._ssrNode(" "),e._ssrNode('<td class="race" data-v-6e36c9ec>',"</td>",[e._ssrNode('<div class="d-flex flex-wrap align-items-center" data-v-6e36c9ec>',"</div>",[r("nuxt-link",{staticClass:"title mr-2 flex-grow",attrs:{to:"/races/"+t.race_id}},[e._v("\n                      "+e._s(t.race)+"\n                    ")]),e._ssrNode(' <div class="distance mr-3" data-v-6e36c9ec>'+e._ssrEscape(" "+e._s(t.distance)+" ")+"</div>")],2),e._ssrNode(" "),e._ssrNode('<div class="metadata d-flex flex-wrap align-items-center mt-0 w-100" data-v-6e36c9ec>',"</div>",[e._ssrNode('<span class="date mr-2 my-1" data-v-6e36c9ec>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"calendar-alt"}}),e._ssrNode(e._ssrEscape("\n                      "+e._s(t.date)+"\n                    "))],2),e._ssrNode(" "),e._ssrNode('<span class="team no-wrap mr-3 my-1" data-v-6e36c9ec>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:["fab","font-awesome-flag"]}}),e._ssrNode(" "),t.team_id?r("nuxt-link",{attrs:{to:"",to:"/team/"+t.team_id}},[e._v("\n                        "+e._s(t.team)+"\n                      ")]):e._e(),e._ssrNode(" "+(t.team_id?"\x3c!----\x3e":"<span data-v-6e36c9ec>"+e._ssrEscape(e._s(t.team))+"</span>"))],2),e._ssrNode(" "),t.post_id?e._e():r("nuxt-link",{staticClass:"btn btn-outline-primary btn-small my-1",attrs:{to:"/new/post/"+t._id}},[e._v(" \n                      Create Post "),r("fa",{attrs:{icon:"plus"}})],1),e._ssrNode(" "),t.post_id?r("nuxt-link",{staticClass:"btn btn-outline-primary btn-small my-1",attrs:{to:"/post/"+t.post_id}},[e._v("\n                      View Post\n                    ")]):e._e()],2)],2),e._ssrNode(' <td class="time ml-auto" data-v-6e36c9ec>'+e._ssrEscape("\n                  "+e._s(t.time))+(e.recordsArray.includes(t)?'<span class="star" data-v-6e36c9ec>*</span>':"\x3c!----\x3e")+"</td>")],2)}),0)])])])],2)})],2),e._ssrNode(" "),e._ssrNode('<div class="col-12 col-md-4 pr-0 pl-0 pr-md-2 mt-4 ml-0 order-1 order-md-12 w-100" data-v-6e36c9ec>',"</div>",[e.athlete.brandPicUrl&&e.athlete.featuredPicUrl?e._e():e._ssrNode('<div class="mb-3" style="text-align: center" data-v-6e36c9ec>',"</div>",[e._ssrNode(" \n      Want to customize this page? <br data-v-6e36c9ec> "),e.isLoggedIn?r("nuxt-link",{attrs:{to:"/user/settings"}},[e._v(" Claim this profile ")]):e._e(),e._ssrNode(" "),e.isLoggedIn?e._e():e._ssrNode("<span data-v-6e36c9ec>","</span>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v(" Log In ")]),e._ssrNode(" or\n        "),r("nuxt-link",{attrs:{to:"/signup"}},[e._v(" Sign Up ")])],2),e._ssrNode(" <br data-v-6e36c9ec> to add custom images.\n    ")],2),e._ssrNode(" "+(e.athlete.brandPicUrl?"<img"+e._ssrAttr("src",e.athlete.brandPicUrl.replace("http","https"))+' class="brand-pic brand mb-4" data-v-6e36c9ec>':"\x3c!----\x3e")+" "+(e.athlete.featuredPicUrl?"<img"+e._ssrAttr("src",e.athlete.featuredPicUrl.replace("http","https"))+' class="user-image mb-4" data-v-6e36c9ec>':"\x3c!----\x3e")+" "),e._ssrNode('<div class="table-responsive personal-records mt-4 mx-auto w-90" data-v-6e36c9ec>',"</div>",[e._ssrNode('<table class="table mb-2" data-v-6e36c9ec>',"</table>",[e._ssrNode('<thead data-v-6e36c9ec><tr data-v-6e36c9ec><th colspan="2" class="pb-2" data-v-6e36c9ec> Personal Records </th></tr></thead> '),e._ssrNode("<tbody data-v-6e36c9ec>","</tbody>",[e._ssrNode(e._ssrList(e.records,function(t,r){return'<tr data-v-6e36c9ec><td class="distance" data-v-6e36c9ec>'+e._ssrEscape(e._s(r))+'</td> <td class="time" data-v-6e36c9ec>'+e._ssrEscape(e._s(t.time))+"</td></tr>"})+" "),Object.keys(e.records).length<3?e._ssrNode('<tr class="more" data-v-6e36c9ec>',"</tr>",[e._ssrNode('<td colspan="2" data-v-6e36c9ec>',"</td>",[e.isLoggedIn?e._ssrNode("<div data-v-6e36c9ec>","</div>",[r("nuxt-link",{attrs:{to:"/user/content"}},[e._v("Add more results")])],1):e._e(),e._ssrNode(" "),e.isLoggedIn?e._e():e._ssrNode("<div data-v-6e36c9ec>","</div>",[r("nuxt-link",{attrs:{to:"/login"}},[e._v("Log in")]),e._ssrNode(" to add more results\n              ")],2)],2)]):e._e()],2)],2)])],2)],2):e._e()],2)},[],!1,function(e){var t=r(151);t.__inject__&&t.__inject__(e)},"6e36c9ec","7da6f0bc");t.default=component.exports},83:function(e,t,r){"use strict";r.r(t),r.d(t,"format",function(){return d});var c=r(60),o=r.n(c);function d(e){if(void 0!==e){if((e=o()(e.toLowerCase())||0).match(/(\d\s?k|\d\s?km|(meter)(s)?|00\s?m)/g)){var t=n(e);return t>3e3&&Number.isInteger(t/1e3)?t/1e3+" km":t+"m"}return e.match(/(mi)/g)?l(e)+" mi":"Unknown"}}let n=function(e){return parseInt(e.toLowerCase().replace(",","").replace(/\s?(k)(m)?(ilometers)?/g,"000m").replace(/\s?(meter)[s]?/g,"m").replace(" ","").match(/\d+(m)/g)[0].replace("m",""))||0},l=function(e){return parseFloat(e.toLowerCase().replace(",","").replace(" ","").replace(/(mi)(le)?(s)?/g,"mi").match(/\d+(.)?\d*(mi)/g)[0].replace("mi",""))||0}},84:function(e,t,r){var content=r(152);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var c=r(3).default;e.exports.__inject__=function(e){c("62312b35",content,!0,e)}}};
//# sourceMappingURL=128ea111505fbee5f4b4.js.map