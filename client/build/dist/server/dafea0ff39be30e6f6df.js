exports.ids=[24],exports.modules={162:function(e,t,r){"use strict";r.r(t);var n=r(56),d=r.n(n);var l={components:{GenderPicker:()=>r.e(2).then(r.bind(null,176))},head(){return{title:this.teamName+" - RaceBase",meta:[{hid:"OpenGraph Title",property:"og:title",content:this.teamName+" - Team Results"},{hid:"OpenGraph Image",property:"og:image",content:"https://racebase.io/images/opengraph/team.png"},{hid:"Description",name:"description",content:"View "+this.teamName+"'s results on RaceBase, the Internet's first community sourced results database"},{hid:"OpenGraph Description",property:"og:description",content:"View "+this.teamName+"'s race results on RaceBase, the Internet's first community sourced results database"}]}},data:()=>({showAthletes:!1}),async asyncData({$axios:e,params:t,redirect:r}){let n=t.id,l=t.gender||"mens",o=await e.$get("result/list/team/"+n+"/"+l+"/years");o&&o.length||r("/team/notfound");let c=t.year||o[0];o.includes(c)||(c=o[0]);let h=await e.$get("result/list/team/"+n+"/"+c+"/"+l);var _;return h||r("/notfound"),{teamId:n,years:o,curYear:c,results:d.a.groupBy(d.a.sortBy(h,"place"),"event"),athletes:(_="athlete",h.filter((e,t,r)=>r.map(e=>e[_]).indexOf(e[_])===t)),teamName:h[0].team,curGender:l}},methods:{updateResults:async function(){let e=await this.$axios.$get("result/list/team/"+this.teamId+"/"+this.curYear+"/"+this.curGender);e&&(this.results=e)}},watch:{$route:function(){this.curGender=this.$route.params.gender||"mens",this.curYear=this.$route.params.year||this.years[0],this.updateResults()}}},o=r(1),component=Object(o.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto w-90 w-md-100 mx-md-0 pl-md-5 mt-4"},[e._ssrNode((0!=e.results.length?"<h1>"+e._ssrEscape(" \n    "+e._s(e.teamName)+" \n    ")+"<small>Team Results</small></h1>":"<h1>There is no team with that ID!</h1>")+' <h5 class="mb-2">'+e._ssrEscape(" @"+e._s(e.teamId)+" ")+"</h5> "),0!=e.results.length?e._ssrNode('<div class="btn-group-wrap team-dropdowns">',"</div>",[e._ssrNode('<div class="btn btn-default">',"</div>",[e._ssrNode("\n      Athletes\n      "),e._ssrNode("<span"+e._ssrStyle(null,null,{display:e.showAthletes?"none":""})+">","</span>",[r("fa",{attrs:{icon:"chevron-circle-down"}})],1),e._ssrNode(" "),e._ssrNode("<span"+e._ssrStyle(null,null,{display:e.showAthletes?"":"none"})+">","</span>",[r("fa",{attrs:{icon:"chevron-circle-up"}})],1)],2),e._ssrNode(" "),e._ssrNode('<div class="btn-group dropdown-btn-group">',"</div>",[e._ssrNode('<button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle">\n        Year\n      </button> '),e._ssrNode('<ul class="dropdown-menu dropdown-menu-right">',"</ul>",e._l(e.years,function(t){return e._ssrNode("<li>","</li>",[r("nuxt-link",{staticClass:"dropdown-item",attrs:{to:{params:{year:t,gender:e.curGender||"mens"}}}},[e._v("\n            "+e._s(t)+"\n          ")])],1)}),0)],2),e._ssrNode(" "),0!=e.results.length?r("gender-picker",{staticClass:"ml-1",attrs:{gender:e.curGender}}):e._e()],2):e._e(),e._ssrNode(" "),e.showAthletes?e._ssrNode('<div class="card p-3">',"</div>",[e._ssrNode("<h4>Athletes</h4> "),e._ssrNode('<div class="panel-body">',"</div>",[e._ssrNode('<div class="row">',"</div>",[e._ssrNode('<div class="col-sm-6">',"</div>",[e._ssrNode('<ul class="list-group">',"</ul>",[e._ssrNode("<li><b>"+e._ssrEscape(e._s("mens"==e.curGender?"Mens":"Womens"))+"</b></li> "),e._l(e.athletes,function(t){return e._ssrNode("<li>","</li>",[t.athlete_id?r("nuxt-link",{attrs:{to:"/athlete/"+t.athlete_id}},[e._v(e._s(t.athlete))]):e._e(),e._ssrNode(" "+(t.athlete_id?"\x3c!----\x3e":"<span>"+e._ssrEscape(e._s(t.athlete))+"</span>"))],2)})],2)])])])],2):e._e(),e._ssrNode(" "+(0==e.results.length?'<div class="panel panel-default panel-no-results"><div class="panel-body">\n      No results!\n    </div></div>':"\x3c!----\x3e")+" "),e._l(e.results,function(t){return e._ssrNode('<div class="results-container mb-4 mt-3">',"</div>",[e._ssrNode("<h5><a"+e._ssrAttr("href","/races/"+t[0].race_id)+">"+e._ssrEscape("\n        "+e._s(t[0].race)+"\n      ")+"</a></h5> <div>"+e._ssrEscape(e._s(t[0].event))+"</div> "+(t[0].date?'<div class="mb-3">'+e._ssrEscape(" "+e._s(t[0].date))+"</div>":"\x3c!----\x3e")+" "),e._ssrNode('<div class="table-responsive">',"</div>",[e._ssrNode('<table class="table database table-striped mb-0">',"</table>",[e._ssrNode("<thead>","</thead>",[e._ssrNode("<tr>","</tr>",[e._ssrNode("<th></th> <th>Name</th> <th>Time</th> "),e._ssrNode('<th class="author-data-header">',"</th>",[r("fa",{attrs:{icon:"user"}})],1)],2)]),e._ssrNode(" "),e._ssrNode("<tbody>","</tbody>",e._l(t,function(t){return e._ssrNode("<tr>","</tr>",[e._ssrNode('<td class="data place-data">'+e._ssrEscape("\n              "+e._s(t.place)+"\n            ")+'</td> <td class="data name-data">'+(t.athlete_id?"<a"+e._ssrAttr("href","/athlete/"+t.athlete_id)+">"+e._ssrEscape("\n                "+e._s(t.athlete)+"\n              ")+"</a>":"\x3c!----\x3e")+" "+(t.athlete_id?"\x3c!----\x3e":"<span>"+e._ssrEscape("\n                "+e._s(t.athlete)+"\n              ")+"</span>")+"</td> "),e._ssrNode('<td class="data time-data">',"</td>",[e._ssrNode(e._ssrEscape("\n              "+e._s(t.time)+"\n              Â \n              ")),t.verified?r("fa",{staticClass:"verified-data",attrs:{icon:"check"}}):e._e()],2),e._ssrNode(' <td class="data author-data">'+e._ssrEscape("\n              "+e._s(t.user)+"\n            ")+"</td>")],2)}),0)],2)])],2)})],2)},[],!1,null,null,"40b1f504");t.default=component.exports}};
//# sourceMappingURL=dafea0ff39be30e6f6df.js.map