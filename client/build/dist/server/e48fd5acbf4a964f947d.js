exports.ids=[26],exports.modules={101:function(t,e,r){"use strict";r.r(e),r.d(e,"format",function(){return n});var o=r(64),d=r.n(o);function n(t){if(void 0!==t){if((t=d()(t.toLowerCase())||0).match(/(\d\s?k|\d\s?km|(meter)(s)?|00\s?m)/g)){var e=c(t);return e>3e3&&Number.isInteger(e/1e3)?e/1e3+" km":e+"m"}return t.match(/(mi)/g)?l(t)+" mi":"Unknown"}}let c=function(t){return parseInt(t.toLowerCase().replace(",","").replace(/\s?(k)(m)?(ilometers)?/g,"000m").replace(/\s?(meter)[s]?/g,"m").replace(" ","").match(/\d+(m)/g)[0].replace("m",""))||0},l=function(t){return parseFloat(t.toLowerCase().replace(",","").replace(" ","").replace(/(mi)(le)?(s)?/g,"mi").match(/\d+(.)?\d*(mi)/g)[0].replace("mi",""))||0}},102:function(t,e,r){var content=r(196);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=r(3).default;t.exports.__inject__=function(t){o("2017ef5a",content,!0,t)}},195:function(t,e,r){"use strict";r.r(e);var o=r(102),d=r.n(o);for(var n in o)"default"!==n&&function(t){r.d(e,t,function(){return o[t]})}(n);e.default=d.a},196:function(t,e,r){(t.exports=r(2)(!1)).push([t.i,".profile-header h1[data-v-731795c2]{font-size:23px;font-weight:500}.profile-header h2[data-v-731795c2]{font-size:16px;font-weight:400}.profile-header .btn.follow[data-v-731795c2]{vertical-align:top;font-size:13px;font-weight:500;text-transform:uppercase;height:25px;padding:3px 6px}.profile-header .strava[data-v-731795c2]{color:#f67e2c}.profile-pic[data-v-731795c2]{border-radius:7px;overflow:hidden;display:inline-block;width:58px;height:58px}.profile-info .shoe[data-v-731795c2]{width:25px}.profile-info .fa-book-open[data-v-731795c2]{font-size:14px}h2.year[data-v-731795c2]{font-size:23px}h3.event-header[data-v-731795c2]{text-align:left;text-transform:uppercase;font-weight:500;font-size:18px}.results-table td[data-v-731795c2]{vertical-align:middle}.results-table .place[data-v-731795c2]{text-align:center;font-size:11px}.results-table .place .num[data-v-731795c2]{font-size:18px;font-weight:500}.results-table .title[data-v-731795c2]{color:#3976d0;font-size:17px;font-weight:500}.results-table .metadata[data-v-731795c2]{font-size:14px}.results-table .metadata .btn-small[data-v-731795c2]{padding:2px 4px}.results-table .distance[data-v-731795c2]{font-weight:500}.results-table .time[data-v-731795c2]{font-family:DS Digital,Helvetica,sans-serif;font-size:27px;color:#468df5;text-align:right;padding-right:15px}.results-table .time .star[data-v-731795c2]{color:#3976d0}.brand[data-v-731795c2]{width:70px}.brand[data-v-731795c2],.user-image[data-v-731795c2]{display:block;margin:0 auto}.user-image[data-v-731795c2]{width:90%;border-radius:5px}.personal-records[data-v-731795c2]{margin:0 auto}.personal-records thead[data-v-731795c2]{width:100%;text-align:center;font-weight:500}.personal-records thead th[data-v-731795c2]{text-transform:uppercase;border:none;font-size:16px;color:grey;padding-bottom:0;border-bottom:none!important}.personal-records td[data-v-731795c2]{vertical-align:middle;padding:0 15px}.personal-records .distance[data-v-731795c2]{text-transform:uppercase;font-weight:500;font-size:16px}.personal-records .time[data-v-731795c2],.personal-records .time a[data-v-731795c2]{font-family:DS Digital;color:#3976d0;font-size:22px;text-align:right}.personal-records .date[data-v-731795c2]{font-size:13px;text-transform:uppercase;text-align:left}.personal-records .more[data-v-731795c2]{text-align:right;font-style:italic;font-size:12px;text-transform:uppercase}.personal-records .more div[data-v-731795c2]{margin-top:15px}.personal-records .more a[data-v-731795c2]{text-decoration:underline}",""])},297:function(t,e,r){"use strict";r.r(e);var o=r(62),d=r.n(o);let{format:n}=r(101);var c={components:{ProfilePic:()=>r.e(0).then(r.bind(null,308))},head(){return{title:this.name+" - RaceBase",meta:[{hid:"OpenGraph Title",property:"og:title",content:this.athlete.name},{hid:"OpenGraph URL",property:"og:url",content:"https://racebase.run"+this.$route.fullPath},{hid:"OpenGraph Image",property:"og:image",content:this.athlete.profilePicUrl},{hid:"Athlete Page Description",name:"description",content:"View "+this.name+"'s race results on RaceBase, the Internet's first community sourced results database"},{hid:"OpenGraph Description",property:"og:description",content:"View "+this.name+"'s race results on RaceBase, the Internet's first community sourced results database"}]}},async asyncData({store:t,params:e,$axios:r,redirect:o}){let c=t.state.auth.user,l={};c&&c.following&&(l=c.following.includes(e.id));let v=await r.$get("user/athlete/"+e.id)||{},m=await r.$get("result/list/athlete/"+e.id);(!m||m.length<1)&&o("/notfound");let _=v.name||m[0].athlete;e.id;for(var h in m)try{var f=m[h];f.distance=n(f.event);let t=new Date(f.date);f.year=t.getFullYear()}catch(t){console.log(t)}let x=d.a.groupBy(m,"year"),N=d.a.groupBy(m,"distance"),w={},y=[];for(var k in N)w[k]=d.a.sortBy(N[k],"time")[0],y.push(w[k]);m=d.a.sortBy(Object.values(x),"year").reverse(),x=Object.keys(x).sort().reverse();let C=await r.$get("user/claimed/"+e.id);return{user:c,athlete:v,results:m,years:x,records:w,recordsArray:y,claimed:C.claimed,claimedBy:C.user,name:_,id:e.id,following:l}},computed:{isLoggedIn:function(){return this.$store.getters["auth/isLoggedIn"]}},methods:{claim:function(){this.user&&this.$axios.$post("user/claim/athlete/"+this.id).then(t=>{this.getClaim()})},addAlias:async function(){this.$axios.$post("user/"+this.user._id+"/alias/"+this.id).then(async t=>{t.success&&(await this.getClaim(),this.$store.dispatch("auth/fetchUser"))})},getClaim:async function(){let t=await this.$axios.$get("user/claimed/"+this.id);this.claimed=t.claimed,this.claimedBy=t.user},follow:async function(){await this.$axios.$post("user/follow/"+this.id),this.following=!0,this.$store.dispatch("auth/fetchUser")},unfollow:async function(){await this.$axios.$post("user/unfollow/"+this.id),this.following=!1,this.$store.dispatch("auth/fetchUser")}}},l=r(1);var component=Object(l.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.results.length<=0?t._ssrNode('<div class="w-90 mx-auto mt-4" data-v-731795c2>',"</div>",[t._ssrNode("<h1 data-v-731795c2> That athlete doesn't exist! </h1>\n  Click "),r("nuxt-link",{attrs:{to:"/"}},[t._v("here")]),t._ssrNode(" to go home\n")],2):t._e(),t._ssrNode(" "),t.results.length>0?t._ssrNode('<div class="row mw-100 pl-0 w-100 mx-0" data-v-731795c2>',"</div>",[t._ssrNode('<div class="col-md-8 col-12 px-0 order-12 order-md-1" data-v-731795c2>',"</div>",[t._ssrNode('<div itemscope="itemscope" itemtype="http://schema.org/Person" class="profile mt-4 mb-4 w-90 mx-auto" data-v-731795c2>',"</div>",[t._ssrNode('<div class="profile-header d-flex align-items-start mb-3" data-v-731795c2>',"</div>",[t._ssrNode('<div class="profile-pic mr-3" data-v-731795c2>',"</div>",[r("ProfilePic",{attrs:{url:t.athlete.profilePicUrl}})],1),t._ssrNode(" "),t._ssrNode('<div class="d-inline-block mr-3" data-v-731795c2>',"</div>",[t._ssrNode('<h1 itemprop="name" data-v-731795c2>'+t._ssrEscape(" "+t._s(t.name)+" ")+"</h1> "),t._ssrNode('<h2 class="mb-0" data-v-731795c2>',"</h2>",[t._ssrNode(t._ssrEscape("\n            @"+t._s(t.id)+"\n            \n            ")),t.athlete.stravaUrl?t._ssrNode("<a"+t._ssrAttr("href",t.athlete.stravaUrl)+' target="_blank" class="ml-3 strava" data-v-731795c2>',"</a>",[r("fa",{attrs:{icon:["fab","strava"]}}),t._ssrNode(" Strava\n            ")],2):t._e(),t._ssrNode(" "),t._ssrNode("<a"+t._ssrAttr("href","https://twitter.com/intent/tweet?text="+encodeURI("Check out this profile on RaceBase! @racebaseio")+"&url=https://racebase.io/athlete/"+t.id+"&hashtags=racebase")+' target="_blank" data-hashtags="racebase" class="ml-3" data-v-731795c2>',"</a>",[r("fa",{attrs:{icon:["fab","twitter"]}}),t._ssrNode(" Tweet\n            ")],2)],2)],2),t._ssrNode(" "+(t.isLoggedIn&&!t.following?'<button class="btn btn-primary follow mt-3 mt-lg-0" data-v-731795c2>\n          Follow\n        </button>':"\x3c!----\x3e")+" "),t.isLoggedIn&&t.following?t._ssrNode('<button class="btn btn-default follow mt-3 mt-lg-0" data-v-731795c2>',"</button>",[t._ssrNode("\n          Following "),r("fa",{staticClass:"ml-2",attrs:{icon:"check"}})],2):t._e()],2),t._ssrNode(" "),t.athlete?t._ssrNode('<div class="profile-info mb-2" data-v-731795c2>',"</div>",[t._ssrNode('<div class="shoes mb-2" data-v-731795c2>'+(t.athlete.trainer?'<span class="trainer mr-3 d-block d-lg-inline-block" data-v-731795c2><object type="image/svg+xml" data="/images/trainer-blue.svg" class="shoe mr-1" data-v-731795c2></object>'+t._ssrEscape("\n            "+t._s(t.athlete.trainer)+"\n          ")+"</span>":"\x3c!----\x3e")+" "+(t.athlete.racer?'<span class="racer" data-v-731795c2><object type="image/svg+xml" data="/images/racer.svg" class="shoe mr-1" data-v-731795c2></object>'+t._ssrEscape("\n            "+t._s(t.athlete.racer)+"\n          ")+"</span>":"\x3c!----\x3e")+"</div> "),t._ssrNode('<div class="personal" data-v-731795c2>',"</div>",[t.athlete.mileage?t._ssrNode('<span class="mileage mr-3" data-v-731795c2>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"calendar-alt"}}),t._ssrNode(t._ssrEscape("\n            "+t._s(t.athlete.mileage)+" MPW\n          "))],2):t._e(),t._ssrNode(" "),t.athlete.location?t._ssrNode('<span class="location mr-3" data-v-731795c2>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"map-marker-alt"}}),t._ssrNode(' <span itemprop="homeLocation" data-v-731795c2>'+t._ssrEscape(" "+t._s(t.athlete.location)+" ")+"</span>")],2):t._e(),t._ssrNode(" "),t.athlete.publicLogs?t._ssrNode('<span class="logs" data-v-731795c2>',"</span>",[r("nuxt-link",{attrs:{to:"/athlete/"+t.athlete.athlete_id+"/logs"}},[r("fa",{staticClass:"icon mr-1",attrs:{icon:"book-open"}}),t._v("\n              Logs\n            ")],1)],1):t._e()],2)],2):t._e(),t._ssrNode(" "),t.isLoggedIn?t._ssrNode("<div data-v-731795c2>","</div>",[r("nuxt-link",{staticClass:"mt-1 mb-2 btn btn-default btn-small d-inline-block",attrs:{to:"/new/result"}},[t._v("\n          Add Result "),r("fa",{attrs:{icon:"plus"}})],1)],1):t._e(),t._ssrNode(" "),t.claimed?t._e():t._ssrNode('<div class="claim-info" data-v-731795c2>',"</div>",[t._ssrNode("<div data-v-731795c2>","</div>",[t._ssrNode("\n          Is this you? \n          "),t.isLoggedIn?t._e():t._ssrNode("<span data-v-731795c2>","</span>",[r("nuxt-link",{attrs:{to:"/login"}},[t._v("Log In")]),t._ssrNode(" or \n            "),r("nuxt-link",{attrs:{to:"/signup"}},[t._v("Sign Up")]),t._ssrNode(" \n            to claim this athlete profile.\n          ")],2),t._ssrNode(" "+(t.isLoggedIn?"<span data-v-731795c2>"+(t.user.athlete_id?"\x3c!----\x3e":"<span data-v-731795c2>\n              Click <a data-v-731795c2>here</a> to claim this profile.\n            </span>")+" "+(t.user.athlete_id?'<span data-v-731795c2>\n              Click <a href="#" data-v-731795c2>here</a> to add this profile to your aliases.\n            </span>':"\x3c!----\x3e")+"</span>":"\x3c!----\x3e"))],2)]),t._ssrNode(" "+(t.claimed&&t.user.athlete_id!=t.id?'<div class="claim-info" data-v-731795c2><div data-v-731795c2>'+t._ssrEscape("Claimed by "+t._s(t.claimedBy?t.claimedBy:"Anonymous"))+"</div> "+(t.claimedBy?'<div class="smaller" data-v-731795c2>\n          Click \n          <a href="mailto:racebase@breeze.software" data-v-731795c2>here</a> \n          to report a wrongfully claimed athlete.\n        </div>':"\x3c!----\x3e")+"</div>":"\x3c!----\x3e"))],2),t._ssrNode(" "+(t.results&&0!=t.results.length||!t.athlete?"\x3c!----\x3e":"<h3 data-v-731795c2>No Results</h3>")+" "),t._l(t.results,function(e,o){return t._ssrNode('<div class="mb-4 w-90 mx-auto" data-v-731795c2>',"</div>",[t._ssrNode('<h2 class="year mb-3" data-v-731795c2>'+t._ssrEscape(" "+t._s(t.years[o])+" ")+"</h2> "),t._ssrNode('<div class="results-container" data-v-731795c2>',"</div>",[t._ssrNode('<div class="table-responsive mb-4" data-v-731795c2>',"</div>",[t._ssrNode('<table class="results-table table table-striped mb-0" data-v-731795c2>',"</table>",[t._ssrNode("<tbody data-v-731795c2>","</tbody>",t._l(e,function(e){return t._ssrNode("<tr data-v-731795c2>","</tr>",[t._ssrNode('<td class="place" data-v-731795c2>',"</td>",[t._ssrNode('<div class="num" data-v-731795c2>'+t._ssrEscape(" "+t._s(e.place)+" ")+"</div> "),r("fa",{staticClass:"d-block mx-auto",attrs:{icon:"trophy"}})],2),t._ssrNode(" "),t._ssrNode('<td class="race" data-v-731795c2>',"</td>",[t._ssrNode('<div class="d-flex flex-wrap align-items-center" data-v-731795c2>',"</div>",[r("nuxt-link",{staticClass:"title mr-2 flex-grow",attrs:{to:"/races/"+e.race_id}},[t._v("\n                      "+t._s(e.race)+"\n                    ")]),t._ssrNode(' <div class="distance mr-3" data-v-731795c2>'+t._ssrEscape(" "+t._s(e.distance)+" ")+"</div>")],2),t._ssrNode(" "),t._ssrNode('<div class="metadata d-flex flex-wrap align-items-center mt-0 w-100" data-v-731795c2>',"</div>",[t._ssrNode('<span class="date mr-2 my-1" data-v-731795c2>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:"calendar-alt"}}),t._ssrNode(t._ssrEscape("\n                      "+t._s(e.date)+"\n                    "))],2),t._ssrNode(" "),t._ssrNode('<span class="team no-wrap mr-3 my-1" data-v-731795c2>',"</span>",[r("fa",{staticClass:"icon mr-1",attrs:{icon:["fab","font-awesome-flag"]}}),t._ssrNode(" "),e.team_id?r("nuxt-link",{attrs:{to:"",to:"/team/"+e.team_id}},[t._v("\n                        "+t._s(e.team)+"\n                      ")]):t._e(),t._ssrNode(" "+(e.team_id?"\x3c!----\x3e":"<span data-v-731795c2>"+t._ssrEscape(t._s(e.team))+"</span>"))],2),t._ssrNode(" "),e.post_id?t._e():r("nuxt-link",{staticClass:"btn btn-outline-primary btn-small my-1",attrs:{to:"/new/post/"+e._id}},[t._v(" \n                      Create Post "),r("fa",{attrs:{icon:"plus"}})],1),t._ssrNode(" "),e.post_id?r("nuxt-link",{staticClass:"btn btn-outline-primary btn-small my-1",attrs:{to:"/post/"+e.post_id}},[t._v("\n                      View Post\n                    ")]):t._e()],2)],2),t._ssrNode(' <td class="time ml-auto" data-v-731795c2>'+t._ssrEscape("\n                  "+t._s(e.time))+(t.recordsArray.includes(e)?'<span class="star" data-v-731795c2>*</span>':"\x3c!----\x3e")+"</td>")],2)}),0)])])])],2)})],2),t._ssrNode(" "),t._ssrNode('<div class="col-12 col-md-4 pr-0 pl-0 pr-md-2 mt-4 ml-0 order-1 order-md-12 w-100" data-v-731795c2>',"</div>",[t.athlete.brandPicUrl&&t.athlete.featuredPicUrl?t._e():t._ssrNode('<div class="mb-3" style="text-align: center" data-v-731795c2>',"</div>",[t._ssrNode(" \n      Want to customize this page? <br data-v-731795c2> "),t.isLoggedIn?r("nuxt-link",{attrs:{to:"/user/settings"}},[t._v(" Claim this profile ")]):t._e(),t._ssrNode(" "),t.isLoggedIn?t._e():t._ssrNode("<span data-v-731795c2>","</span>",[r("nuxt-link",{attrs:{to:"/login"}},[t._v(" Log In ")]),t._ssrNode(" or\n        "),r("nuxt-link",{attrs:{to:"/signup"}},[t._v(" Sign Up ")])],2),t._ssrNode(" <br data-v-731795c2> to add custom images.\n    ")],2),t._ssrNode(" "+(t.athlete.brandPicUrl?"<img"+t._ssrAttr("src",t.athlete.brandPicUrl.replace("http","https"))+' class="brand-pic brand mb-4" data-v-731795c2>':"\x3c!----\x3e")+" "+(t.athlete.featuredPicUrl?"<img"+t._ssrAttr("src",t.athlete.featuredPicUrl.replace("http","https"))+' class="user-image mb-4" data-v-731795c2>':"\x3c!----\x3e")+" "),t._ssrNode('<div class="table-responsive personal-records mt-4 mx-auto w-90" data-v-731795c2>',"</div>",[t._ssrNode('<table class="table mb-2" data-v-731795c2>',"</table>",[t._ssrNode('<thead data-v-731795c2><tr data-v-731795c2><th colspan="2" class="pb-2" data-v-731795c2> Personal Records </th></tr></thead> '),t._ssrNode("<tbody data-v-731795c2>","</tbody>",[t._l(t.records,function(e,o){return[t._ssrNode("<tr data-v-731795c2>","</tr>",[t._ssrNode('<td class="distance" data-v-731795c2>'+t._ssrEscape("\n                "+t._s(o)+"\n              ")+"</td> "),t._ssrNode('<td class="time" data-v-731795c2>',"</td>",[r("nuxt-link",{attrs:{to:"/races/"+e.race_id}},[t._v("\n                  "+t._s(e.time)+"\n                ")])],1)],2),t._ssrNode(' <tr data-v-731795c2><td colspan="2" class="date pb-2" data-v-731795c2>'+t._ssrEscape(" "+t._s(e.date))+"</td></tr>")]}),t._ssrNode(" "),Object.keys(t.records).length<3?t._ssrNode('<tr class="more" data-v-731795c2>',"</tr>",[t._ssrNode('<td colspan="2" data-v-731795c2>',"</td>",[t.isLoggedIn?t._ssrNode("<div data-v-731795c2>","</div>",[r("nuxt-link",{attrs:{to:"/user/content"}},[t._v("Add more results")])],1):t._e(),t._ssrNode(" "),t.isLoggedIn?t._e():t._ssrNode("<div data-v-731795c2>","</div>",[r("nuxt-link",{attrs:{to:"/login"}},[t._v("Log in")]),t._ssrNode(" to add more results\n              ")],2)],2)]):t._e()],2)],2)])],2)],2):t._e()],2)},[],!1,function(t){var e=r(195);e.__inject__&&e.__inject__(t)},"731795c2","24da0b82");e.default=component.exports}};
//# sourceMappingURL=e48fd5acbf4a964f947d.js.map