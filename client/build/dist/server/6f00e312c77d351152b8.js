exports.ids=[34],exports.modules={141:function(t,e,d){"use strict";d.r(e);var o=d(76),l=d.n(o);for(var r in o)"default"!==r&&function(t){d.d(e,t,function(){return o[t]})}(r);e.default=l.a},142:function(t,e,d){(t.exports=d(2)(!1)).push([t.i,"h3[data-v-7d2722c6]{color:#777}h4[data-v-7d2722c6]{font-size:18px}.btn-default[data-v-7d2722c6],h4[data-v-7d2722c6]{text-transform:uppercase}.btn-default[data-v-7d2722c6]{font-size:14px;padding:3px 6px}",""])},255:function(t,e,d){"use strict";d.r(e);var o=d(61),l=d.n(o);var r={components:{Post:()=>d.e(71).then(d.bind(null,298)),NewPost:()=>d.e(8).then(d.bind(null,300)),Result:()=>d.e(3).then(d.bind(null,299)),ByLine:()=>d.e(4).then(d.bind(null,301))},head:()=>({title:"Your Feed - RaceBase"}),methods:{closeAddWindow:function(){this.addingPost=!1},formatDate:function(t){return l()(t).format("MMMM D YYYY")},loadFeed:async function(){this.addingPost=!1;try{let t=await this.$axios.$get("/post/feed");if(!t)throw"No posts in feed";for(const e of t)this.following[e.athlete_id]||(this.following[e.athlete_id]=await this.$axios.$get("/user/athlete/"+e.athlete_id)),e.result_id&&(e.result=await this.$axios.$get("/result/"+e.result_id));this.posts=t}catch(t){this.posts={},console.log(t)}},createdPost:function(){this.alert="Successfully created post!",this.loadFeed()}},middleware:"auth",async asyncData({$axios:t,store:e}){let d=e.state.auth.user,o=[],l={};try{if(!(o=await t.$get("/post/feed")))throw"No posts in feed";for(const e of o)l[e.athlete_id]||(l[e.athlete_id]=await t.$get("/user/athlete/"+e.athlete_id)),e.result_id&&(e.result=await t.$get("/result/"+e.result_id))}catch(t){console.log(t)}return{addingPost:!1,posts:o,user:d,following:l,alert:""}}},n=d(1);var component=Object(n.a)(r,function(){var t=this,e=t.$createElement,d=t._self._c||e;return d("div",{staticClass:"w-95 mx-auto mt-4"},[t._ssrNode('<div class="d-flex align-items-center mb-2" data-v-7d2722c6>',"</div>",[t._ssrNode('<h4 class="mb-0" data-v-7d2722c6> Your Feed </h4> '),t.addingPost?t._e():t._ssrNode('<div class="btn btn-default mb-0 ml-auto" data-v-7d2722c6>',"</div>",[t._ssrNode("\n      New Post "),d("fa",{attrs:{icon:"pencil-alt"}})],2)],2),t._ssrNode(" "),t.alert?t._ssrNode('<div class="alert alert-primary alert-dismissible align-items-center mt-3" data-v-7d2722c6>',"</div>",[t._ssrNode(t._ssrEscape("\n    "+t._s(t.alert)+"\n\n    ")),t._ssrNode('<button type="button" data-dismiss="alert" aria-label="Close" class="close" data-v-7d2722c6>',"</button>",[t._ssrNode('<span aria-hidden="true" data-v-7d2722c6>',"</span>",[d("fa",{attrs:{icon:"times"}})],1)])],2):t._e(),t._ssrNode(" "),t.addingPost?d("NewPost",{staticClass:"mb-3",attrs:{user:t.user},on:{close:t.closeAddWindow,callback:t.createdPost}}):t._e(),t._ssrNode(" "),t.posts?t._ssrNode('<div class="feed" data-v-7d2722c6>',"</div>",t._l(t.posts,function(e){return t._ssrNode('<div class="mb-4" data-v-7d2722c6>',"</div>",[e.title||e.body?d("Post",{attrs:{post:e,poster:t.following[e.athlete_id],userId:t.user._id},on:{loadFeed:t.loadFeed,deletedPost:function(e){t.alert="Successfully deleted post!"}}}):e.athlete||e.time?d("div",[d("ByLine",{attrs:{author:e.athlete,date:t.formatDate(e.date),authorized:!1,athleteId:e.athlete_id,profilePicUrl:t.following[e.athlete_id].profilePicUrl}}),t._v(" "),d("Result",{attrs:{result:e}})],1):t._e()],1)}),0):t._ssrNode('<div data-v-7d2722c6><h3 class="mt-5" data-v-7d2722c6> Follow some athletes to get content on your feed! </h3></div>')],2)},[],!1,function(t){var e=d(141);e.__inject__&&e.__inject__(t)},"7d2722c6","351954bc");e.default=component.exports},76:function(t,e,d){var content=d(142);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=d(3).default;t.exports.__inject__=function(t){o("3d8c1849",content,!0,t)}}};
//# sourceMappingURL=6f00e312c77d351152b8.js.map