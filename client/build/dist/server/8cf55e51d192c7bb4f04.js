exports.ids=[31],exports.modules={146:function(e,t,d){"use strict";d.r(t);var n=d(72),o=d.n(n);for(var r in n)"default"!==r&&function(e){d.d(t,e,(function(){return n[e]}))}(r);t.default=o.a},147:function(e,t,d){(t=d(2)(!1)).push([e.i,".profile-pic[data-v-e91f35b0]{border-radius:3px;overflow:hidden;width:35px;height:35px}.team-name[data-v-e91f35b0]{font-size:28px;border:none;padding-left:0;margin-left:0}h2[data-v-e91f35b0]{font-size:20px}h5[data-v-e91f35b0]{text-transform:uppercase;font-size:18px}.fa-book-open[data-v-e91f35b0]{font-size:12px}.section[data-v-e91f35b0]{border-radius:5px;border:1px solid #dadada;overflow:hidden}.section .athlete[data-v-e91f35b0]:last-child{border-bottom:none}.section .athlete[data-v-e91f35b0]{border-bottom:1px solid #dadada}.section .athlete .name[data-v-e91f35b0]{font-size:17px;font-weight:500}.tag[data-v-e91f35b0]{border-radius:3px;border:1px solid #dadada}",""]),e.exports=t},288:function(e,t,d){"use strict";d.r(t);var n=d(61),o=d.n(n);var r={components:{ProfilePic:()=>d.e(0).then(d.bind(null,346)),SearchBar:()=>d.e(1).then(d.bind(null,347))},head:()=>({title:"Coaching - RaceBase"}),async asyncData({$axios:e,store:t}){let d={...t.state.auth.user};console.log(d.coach);let n=await e.$get("/team/"+d.team_id);console.log(n);let r=await e.$get("/team/"+d.team_id+"/roster"),l=await e.$get("/team/"+d.team_id+"/athletes"),c=o.a.filter(l,e=>null==e.name),v=o.a.reject(l,e=>null==e.name);for(const a of v)a.showInvite=!1,a.sentInvite=!1;return{team:n,active:v,roster:r,unclaimed:c,search:"",showUnclaimed:!1}},middleware:"coach",methods:{loadRoster:async function(){try{this.roster=await this.$axios.$get("/team/"+this.team.team_id+"/roster")}catch(e){console.log(e.response.data)}},addToRoster:async function(e){try{await this.$axios.$post("/team/roster/athlete/"+e),this.loadRoster()}catch(e){console.log(e.response.data)}},removeFromRoster:async function(e){try{await this.$axios.$delete("/team/roster/athlete/"+e),this.loadRoster()}catch(e){console.log(e.response.data)}},updateName:async function(){try{await this.$axios.$put("/team/"+this.team.team_id,{name:this.team.name})}catch(e){console.log(e.response.data)}},inviteAthlete:async function(e){try{await this.$axios.$post("/team/invite/"+e.athlete_id);e.sentInvite=!0,e.showInvite=!1}catch(e){console.log(e.response.data)}}},computed:{filteredUnclaimed:function(){return this.unclaimed.filter(e=>e.athlete_id.toLowerCase().includes(this.search.toLowerCase()))},filteredActive:function(){return this.active.filter(e=>null!=e.name&&!this.roster.some(a=>a.name===e.name))}}},l=d(1);var component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("div",{staticClass:"mt-3 w-95 mx-auto"},[e._ssrNode('<div class="d-flex align-items-center mb-2" data-v-e91f35b0><input type="text" placeholder="Enter your team\'s name..."'+e._ssrAttr("value",e.team.name)+' class="team-name form-control" data-v-e91f35b0> <div class="btn btn-small btn-primary" data-v-e91f35b0>Save</div></div> '),e._ssrNode('<div class="d-flex align-items-center" data-v-e91f35b0>',"</div>",[e._ssrNode("<h2 data-v-e91f35b0>","</h2>",[d("nuxt-link",{attrs:{to:"/team/"+e.team.team_id}},[e._v(" \n      @"+e._s(e.team.team_id)+"\n    ")])],1),e._ssrNode(" "),d("nuxt-link",{staticClass:"ml-auto btn btn-outline-primary",attrs:{to:"/coach/schedule"}},[d("fa",{attrs:{icon:"calendar-alt"}}),e._v(" \n    Edit Meet Schedule\n  ")],1)],2),e._ssrNode(" "),e._ssrNode('<div class="row mt-4" data-v-e91f35b0>',"</div>",[e._ssrNode('<div class="col" data-v-e91f35b0>',"</div>",[e._ssrNode("<h5 data-v-e91f35b0> Active Athletes </h5> "),e._ssrNode('<div class="active section mb-4" data-v-e91f35b0>',"</div>",e._l(e.filteredActive,(function(t){return e._ssrNode('<div class="athlete p-2" data-v-e91f35b0>',"</div>",[e._ssrNode('<div class="d-flex align-items-center" data-v-e91f35b0>',"</div>",[d("ProfilePic",{staticClass:"profile-pic mr-2",attrs:{url:t.profilePicUrl}}),e._ssrNode(" "),e._ssrNode('<div class="ml-2" data-v-e91f35b0>',"</div>",[e._ssrNode('<div class="name" data-v-e91f35b0>'+e._ssrEscape(" "+e._s(t.name)+" ")+"</div> "),d("nuxt-link",{attrs:{to:"/athlete/"+t.athlete_id}},[e._v(" \n              @"+e._s(t.athlete_id)+" \n            ")]),e._ssrNode(" "),t.team_id==e.team.team_id?d("nuxt-link",{staticClass:"ml-2",attrs:{to:"/athlete/"+t.athlete_id+"/logs"}},[d("fa",{attrs:{icon:"book-open"}}),e._v(" Logs\n            ")],1):e._e()],2),e._ssrNode(" "),e._ssrNode('<div class="ml-auto" data-v-e91f35b0>',"</div>",[t.team_id==e.team.team_id?e._ssrNode('<div class="btn btn-outline-primary btn-small" data-v-e91f35b0>',"</div>",[e._ssrNode(" Add to Roster ")],2):t.name?e._ssrNode("<div data-v-e91f35b0>","</div>",[t.sentInvite?e._ssrNode('<div class="btn btn-dark btn-small" data-v-e91f35b0>',"</div>",[d("fa",{attrs:{icon:"check"}}),e._ssrNode(" Invited\n              ")],2):e._ssrNode('<div class="btn btn-outline-primary btn-small" data-v-e91f35b0>',"</div>",[d("fa",{staticClass:"mr-1",attrs:{icon:"envelope"}}),e._ssrNode("Invite\n              ")],2)]):e._e()])],2),e._ssrNode(" "+(t.showInvite&&!t.sentInvite?'<div class="mt-2" data-v-e91f35b0> \n          Are you sure? This will <strong data-v-e91f35b0>send an email</strong>'+e._ssrEscape(" to "+e._s(t.name)+". \n          ")+'<div class="d-flex align-items-center mt-2" data-v-e91f35b0><div class="btn-small btn btn-outline-primary mr-2" data-v-e91f35b0>Yes, send invite</div> <div class="btn-small btn btn-outline-danger" data-v-e91f35b0>No</div></div></div>':"\x3c!----\x3e"))],2)})),0)],2),e._ssrNode(" "),e._ssrNode('<div class="col" data-v-e91f35b0>',"</div>",[e._ssrNode("<h5 data-v-e91f35b0> Current Roster </h5> "),e.roster.length>0?e._ssrNode('<div class="roster section mb-4" data-v-e91f35b0>',"</div>",e._l(e.roster,(function(t){return e._ssrNode('<div class="athlete d-flex p-2 align-items-center" data-v-e91f35b0>',"</div>",[d("ProfilePic",{staticClass:"profile-pic mr-2",attrs:{url:t.profilePicUrl}}),e._ssrNode(" "),e._ssrNode('<div class="ml-2" data-v-e91f35b0>',"</div>",[e._ssrNode('<div class="name" data-v-e91f35b0>'+e._ssrEscape(" "+e._s(t.name)+" ")+"</div> "),d("nuxt-link",{attrs:{to:"/athlete/"+t.athlete_id}},[e._v(" \n            @"+e._s(t.athlete_id)+" \n          ")]),e._ssrNode(" "),t.team_id==e.team.team_id?d("nuxt-link",{staticClass:"ml-2",attrs:{to:"/athlete/"+t.athlete_id+"/logs"}},[d("fa",{attrs:{icon:"book-open"}}),e._v(" Logs\n          ")],1):e._e()],2),e._ssrNode(' <div class="ml-auto" data-v-e91f35b0><div class=" ml-3 btn btn-outline-danger btn-small" data-v-e91f35b0>\n            Remove\n          </div></div>')],2)})),0):e._ssrNode('<div class="no-roster" data-v-e91f35b0>\n      No athletes on the roster! Add some from the left to get started\n    </div>')],2)],2),e._ssrNode(" "),e._ssrNode('<div class="mb-5" data-v-e91f35b0>',"</div>",[e._ssrNode('<div class="d-flex align-items-center" data-v-e91f35b0><h5 class="mr-3 mb-0" data-v-e91f35b0> Unclaimed Athletes </h5> <div class="btn btn-outline-primary btn-small" data-v-e91f35b0>'+e._ssrEscape("\n      "+e._s(e.showUnclaimed?"Hide":"Show")+"\n    ")+"</div></div> "),e.showUnclaimed?e._ssrNode("<div data-v-e91f35b0>","</div>",[d("SearchBar",{staticClass:"mt-3",model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._ssrNode(" "),e._l(e.filteredUnclaimed,(function(t){return e._ssrNode('<div class="d-inline-block mr-2 my-1 px-2 py-1 tag" data-v-e91f35b0>',"</div>",[d("nuxt-link",{attrs:{to:"/athlete/"+t.athlete_id}},[e._v(" \n        "+e._s(t.athlete_id)+"\n      ")])],1)}))],2):e._e()],2)],2)}),[],!1,(function(e){var t=d(146);t.__inject__&&t.__inject__(e)}),"e91f35b0","380ad98b");t.default=component.exports},72:function(e,t,d){var content=d(147);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=d(3).default;e.exports.__inject__=function(e){n("1a570d16",content,!0,e)}}};