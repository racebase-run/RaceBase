exports.ids=[38],exports.modules={185:function(e,t,r){"use strict";r.r(t);var n=r(96),c=r.n(n);for(var l in n)"default"!==l&&function(e){r.d(t,e,function(){return n[e]})}(l);t.default=c.a},186:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,".event[data-v-68899ec5]{padding:3px 8px;font-size:16px}.event .fa-check[data-v-68899ec5]{font-size:12px}label[data-v-68899ec5]{text-align:right;text-transform:uppercase;margin-bottom:0;margin-right:10px;color:#575757;font-size:14px}",""])},288:function(e,t,r){"use strict";r.r(t);var n=r(62),c=r.n(n);var l={head:()=>({title:"Add Result - RaceBase"}),components:{ResultEditor:()=>r.e(12).then(r.bind(null,322)),SearchBar:()=>r.e(1).then(r.bind(null,309))},async asyncData({params:e,$axios:t,store:r}){let n=r.state.auth.user,c={},l="",d={};if(e.raceId)try{l=(c=await t.$get("/race/"+e.raceId)).name,d=await t.$get("/race/"+e.raceId+"/mens/events")}catch(e){console.log(e.response.data)}return{mine:!0,curRace:c,teamSearchInput:"",searchInput:"",idParam:e.raceId,races:{},teams:{},womens:!1,events:d,user:n,newEvent:"",newTeam:{team_id:"",team:""},result:{time:"",athlete:"",athlete_id:"",race:l,race_id:e.raceId,womens:!1,team:"",team_id:"",place:null,event:"",date:""}}},methods:{search:async function(){if(this.searchInput)try{this.races=(await this.$axios.$get("search/races/"+this.searchInput)).slice(0,10)}catch(e){console.log(e.response.data),this.races=[]}},teamSearch:async function(){if(this.teamSearchInput)try{let e=await this.$axios.$get("search/results/"+this.teamSearchInput+"/1/50");this.teams=c.a.uniq(e.docs,"team")}catch(e){console.log(e),this.teams={}}else this.teams={}},selectRace:async function(e){try{this.raceId=e,this.curRace=await this.$axios.$get("/race/"+e)||{},this.events=await this.$axios.$get("/race/"+e+"/"+this.gender+"/events")}catch(e){console.log(e.response.data)}},selectEvent:function(e){this.result.event=e},selectTeam:function(e){this.result.team=e.team,this.result.team_id=e.team_id},createResult:async function(){this.mine&&(this.result.athlete=this.user.name,this.result.athlete_id=this.user.athlete_id),this.result.womens=!!this.womens,this.result.date=this.curRace.date;try{await this.$axios.$post("result",this.result)&&this.$router.push("/new/result/success")}catch(e){console.log(e)}},createCustomTeam:function(){this.result.team=this.newTeam.name,this.result.team_id=this.newTeam.team_id},removeTeam:function(){this.result.team="",this.result.team_id=""}},watch:{womens:async function(){try{this.curRace._id&&(this.events=await this.$axios.$get("/race/"+this.curRace._id+"/"+this.gender+"/events"))}catch(e){console.log(e)}},curRace:function(){this.result.race=this.curRace.name,this.result.race_id=this.curRace._id}},computed:{gender:function(){return this.womens?"womens":"mens"},step:function(){return this.result.place&&this.result.time?4:this.result.team?3:this.result.event?2:this.curRace.name?1:0},customTeam:function(){return this.newTeam.name==this.result.team&&this.newTeam.team_id==this.result.team_id}}},d=r(1);var component=Object(d.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-95 mx-auto mt-4 mb-5"},[e._ssrNode('<div class="mb-3" data-v-68899ec5> \n    To create a result, follow the <strong data-v-68899ec5>five simple steps</strong> below. \n  </div> <h4 data-v-68899ec5> 1. Find a race </h4> '+(e.idParam?"\x3c!----\x3e":'<div class="mb-3" data-v-68899ec5> Search for a race to add your result to. </div>')+" "),e.idParam?e._e():r("SearchBar",{on:{search:e.search},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._ssrNode(" "),e._l(e.races,function(t){return e._ssrNode('<div class="d-flex align-items-center mb-2" data-v-68899ec5>',"</div>",[e.curRace._id==t._id?e._ssrNode('<div class="btn btn-primary btn-small mr-3" data-v-68899ec5>',"</div>",[e._ssrNode("\n      Selected "),r("fa",{attrs:{icon:"check"}})],2):e._ssrNode('<div class="btn btn-outline-primary btn-small mr-3" data-v-68899ec5>\n      Select\n    </div>'),e._ssrNode(" "),r("nuxt-link",{attrs:{to:"/races/"+t._id}},[e._v("\n      "+e._s(t.name)+"\n    ")]),e._ssrNode(e._ssrEscape("\n      on "+e._s(t.date)+"\n  "))],2)}),e._ssrNode(" "),e.idParam?e._ssrNode('<div class="d-flex align-items-center mb-2 mt-3" data-v-68899ec5>',"</div>",[e._ssrNode('<div class="btn btn-primary btn-small mr-3" data-v-68899ec5>',"</div>",[e._ssrNode("\n      Selected "),r("fa",{attrs:{icon:"check"}})],2),e._ssrNode(" "),r("nuxt-link",{attrs:{to:"/races/"+e.curRace._id}},[e._v("\n      "+e._s(e.curRace.name)+"\n    ")]),e._ssrNode(e._ssrEscape("\n      on "+e._s(e.curRace.date)+"\n  "))],2):e._ssrNode("<div data-v-68899ec5>","</div>",[e._ssrNode(" \n    Can't find the race you're looking for? Create one \n    "),e._ssrNode("<strong data-v-68899ec5>","</strong>",[r("nuxt-link",{attrs:{to:"/new/race"}},[e._v(" here ")])],1)],2),e._ssrNode(" "),e.curRace.name?e._ssrNode('<div class="mt-4" data-v-68899ec5>',"</div>",[e._ssrNode('<h4 data-v-68899ec5> 2. Choose your event </h4> <div data-v-68899ec5><label class="form-check-label mb-3" data-v-68899ec5><input type="radio"'+e._ssrAttr("value",!0)+e._ssrAttr("checked",e._q(e.womens,!0))+' data-v-68899ec5> Women\'s   \n\n        <input type="radio"'+e._ssrAttr("value",!1)+e._ssrAttr("checked",e._q(e.womens,!1))+" data-v-68899ec5> Men's\n      </label></div> "),e.events?e._ssrNode('<div class="d-flex align-items-center mb-3" data-v-68899ec5>',"</div>",[e._l(e.events,function(t){return e._ssrNode("<div"+e._ssrClass("event btn d-inline-block mr-2",e.result.event==t?"btn-primary":"btn-outline-dark")+" data-v-68899ec5>","</div>",[e._ssrNode(e._ssrEscape("\n        "+e._s(t)+" \n        ")),e.result.event==t?r("fa",{staticClass:"ml-1",attrs:{icon:"check"}}):e._e()],2)}),e._ssrNode(" "),e._ssrNode("<div data-v-68899ec5>","</div>",[e._ssrNode('<div class="input-group" data-v-68899ec5>',"</div>",[e._ssrNode('<input type="text" placeholder="Add your own..."'+e._ssrAttr("value",e.newEvent)+' class="form-control" data-v-68899ec5> '),e._ssrNode('<div class="input-group-append" data-v-68899ec5>',"</div>",[e.newEvent==e.result.event&&e.result.event?e._ssrNode('<button type="button" class="btn btn-primary" data-v-68899ec5>',"</button>",[r("fa",{attrs:{icon:"check"}})],1):e._ssrNode('<button type="button" class="btn btn-outline-primary" data-v-68899ec5>',"</button>",[r("fa",{attrs:{icon:"plus"}})],1)])],2)])],2):e._e()],2):e._e(),e._ssrNode(" "),e.result.event?e._ssrNode('<div class="mt-4" data-v-68899ec5>',"</div>",[e._ssrNode("<h4 data-v-68899ec5> 3. Find your team </h4> "),r("SearchBar",{on:{search:e.teamSearch},model:{value:e.teamSearchInput,callback:function(t){e.teamSearchInput=t},expression:"teamSearchInput"}}),e._ssrNode(" "),e._ssrNode("<div data-v-68899ec5>","</div>",[e._l(e.teams,function(t){return e._ssrNode('<div class="mb-2 d-flex align-items-center" data-v-68899ec5>',"</div>",[e.result.team!=t.team?e._ssrNode('<div class="btn btn-outline-primary btn-small" data-v-68899ec5>',"</div>",[e._ssrNode("\n          Select\n        ")],2):e._ssrNode('<div class="btn btn-primary btn-small" data-v-68899ec5>',"</div>",[e._ssrNode("\n          Selected "),r("fa",{attrs:{icon:"check"}})],2),e._ssrNode(" "),r("nuxt-link",{staticClass:"ml-2",attrs:{to:"/team/"+t.team_id}},[e._v("\n          "+e._s(t.team)+"\n        ")])],2)}),e._ssrNode(" "),e._ssrNode("<div data-v-68899ec5>","</div>",[e._ssrNode(" \n        Can't find your team? Create a new one: \n        "),e._ssrNode('<div class="mt-3 mb-2 d-flex align-items-center w-50" data-v-68899ec5>',"</div>",[e._ssrNode('<input type="text" placeholder="Team name"'+e._ssrAttr("value",e.newTeam.name)+' class="form-control flex-shrink-1 mr-2" data-v-68899ec5> <input type="text" placeholder="Team ID"'+e._ssrAttr("value",e.newTeam.team_id)+' class="form-control flex-shrink-1 mr-2" data-v-68899ec5> '),e._ssrNode("<div"+e._ssrClass("btn flex-shrink-0",e.customTeam?"btn-primary":"btn-outline-primary")+" data-v-68899ec5>","</div>",[e._ssrNode(" \n            Add Team "),e.customTeam?r("fa",{attrs:{icon:"check"}}):e._e()],2)],2)],2)],2)],2):e._e(),e._ssrNode(" "),e.result.team?e._ssrNode('<div class="mt-4" data-v-68899ec5>',"</div>",[e._ssrNode("<h4 data-v-68899ec5> 4. Enter a few details </h4> "),e._ssrNode('<form class="d-flex w-75 align-items-center" data-v-68899ec5>',"</form>",[e._ssrNode('<label class="flex-shrink-0" data-v-68899ec5> Finishing time </label> <input type="text" placeholder="15:30, 98:10..."'+e._ssrAttr("value",e.result.time)+' class="form-control flex-shrink-1 mr-3" data-v-68899ec5> '),e._ssrNode('<label class="flex-shrink-1" data-v-68899ec5>',"</label>",[r("fa",{attrs:{icon:"trophy"}})],1),e._ssrNode(' <input type="number" placeholder="Place"'+e._ssrAttr("value",e.result.place)+' class="form-control flex-shrink-1" data-v-68899ec5>')],2)],2):e._e(),e._ssrNode(" "+(e.result.time&&e.result.place?'<div class="mt-4" data-v-68899ec5><h4 data-v-68899ec5> 5. Who\'s result is this?  </h4> <div data-v-68899ec5><label class="form-check-label mb-3" data-v-68899ec5><input type="radio"'+e._ssrAttr("value",!0)+e._ssrAttr("checked",e._q(e.mine,!0))+' data-v-68899ec5> Mine   \n\n        <input type="radio"'+e._ssrAttr("value",!1)+e._ssrAttr("checked",e._q(e.mine,!1))+" data-v-68899ec5> Someone else's\n      </label></div> "+(e.mine?"\x3c!----\x3e":'<div class="d-flex w-75 align-items-center" data-v-68899ec5><label class="flex-shrink-0" data-v-68899ec5> Athlete\'s name </label> <input type="text" placeholder="John Appleseed"'+e._ssrAttr("value",e.result.athlete)+' class="form-control flex-shrink-1 mr-3" data-v-68899ec5> <label class="flex-shrink-0" data-v-68899ec5> Athlete\'s ID </label> <input type="text" placeholder="jappleseed"'+e._ssrAttr("value",e.result.athlete_id)+' class="form-control flex-shrink-1" data-v-68899ec5></div>')+"</div>":"\x3c!----\x3e")+' <div class="progress mt-4" data-v-68899ec5><div role="progressbar"'+e._ssrAttr("aria-valuenow",e.step)+' aria-valuemin="0" aria-valuemax="5" class="progress-bar"'+e._ssrStyle(null,"width: "+e.step/5*100+"%",null)+' data-v-68899ec5></div></div> <div class="mt-2" data-v-68899ec5><strong data-v-68899ec5>'+e._ssrEscape(e._s(e.step)+" of 5")+"</strong> completed</div> "+(e.result.time&&e.result.place?'<div class="btn btn-primary mt-3" data-v-68899ec5> \n    Create Result \n  </div>':"\x3c!----\x3e"))],2)},[],!1,function(e){var t=r(185);t.__inject__&&t.__inject__(e)},"68899ec5","08647634");t.default=component.exports},96:function(e,t,r){var content=r(186);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=r(3).default;e.exports.__inject__=function(e){n("b95cb8b4",content,!0,e)}}};
//# sourceMappingURL=c4c8a89d79f338f56427.js.map